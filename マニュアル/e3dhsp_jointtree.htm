<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 6.5.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE></TITLE>
</HEAD>
<BODY>
<P><FONT size="+2">ジョイントの階層構造について</FONT><BR>
<BR>
<BR>
Easy3Dのジョイントは、4方向のリンクトリストになっています。<BR>
図にすると、下のようになります。<BR>
<BR>
<IMG src="jpegfiles/e3dhsp_link4.jpg" width="378" height="217" border="0"><BR>
<BR>
parentは親、childは子供（長男）、brotherは弟、sisterは兄（sisterだけ英語と違うけど。。）です。<BR>
<BR>
<BR>
ジョイントのツリーの例を、下に示します。<BR>
分かりやすいように、ジョイントの名前には、シリアル番号を付けてあります。<BR>
<BR>
<IMG src="jpegfiles/e3dhsp_tree.jpg" width="378" height="217" border="0"><BR>
<BR>
四角で表示されているのがジョイントです。丸印（ボーンパート）はジョイントではありません。<BR>
このツリー構造の中で、parent, child, brother, sisterの値がどうなっているかを、見てみましょう。<BR>
<BR>
/////////<BR>
<BR>
まず、<B><FONT size="+1">シリアル１０の、ジョイントについて</FONT></B>見てみます。<BR>
parentには、-1が代入されています。<BR>
-1は、該当するジョイントが存在しないときに、代入されます。<BR>
図では、ボーンパートという親が存在しますが、<BR>
ボーンパートオブジェクトは、ジョイントではないので、parentの該当無しとなります。<BR>
<BR>
<U>parentに-1が代入されているジョイントは、親が存在しない、つまり、<BR>
ジョイントの中で、一番親になるジョイントである</U>ことになります。<BR>
<BR>
childは、11がセットされています。<BR>
brother, sisterには、存在しないことを示す-1がセットされています。<BR>
<BR>
<BR>
/////////<BR>
<BR>
<B>シリアル１１のジョイントについて</B>見てみます。<BR>
<BR>
parentには、親の10がセットされています。<BR>
<BR>
childには、子供の12がセットされています。<BR>
子供は、12から15まで４つありますが、<BR>
<U>childには、長男の１２だけセットされ</U>、次男の１３などは、セットされません。<BR>
<BR>
brother, sisterには、存在しないことを示す-1がセットされています。<BR>
<BR>
<BR>
/////////<BR>
<BR>
しつこいかもしれませんが（笑）、<BR>
<B>シリアル１３のジョイントについて</B>見てみます。<BR>
<BR>
parentには、親の11がセットされます。<BR>
childは、-1です。<BR>
brotherは、弟の、14がセットされます。<BR>
sisterは、兄の、12がセットされます。<BR>
<BR>
<BR>
/////////<BR>
<BR>
気を付けていただきたいのは、<BR>
<U>child要素には、たくさん子供がいても、長男しかセットされない</U>ということです。<BR>
2番目以降の子供を捜す場合には、<BR>
brother要素の値を調べて行います。<BR>
<BR>
それに対し、parent要素は、たくさん子供がいた場合にも、各子供にセットされています。<BR>
<BR>
<BR>
<BR>
<BR>
<A href="index.htm">トップページに戻る</A></P>
</BODY>
</HTML>
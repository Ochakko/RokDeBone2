<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=SHIFT_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 9.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE></TITLE>
</HEAD>
<BODY>
<P>RokDeBone2の新機能のページ　その２<BR>
</P>
<P><BR>
<B>ver1.0.7.9での変更点</B><BR>
<BR>
　　　　<IMG src="jpegfiles/rdb2_newcol.jpg" width="528" height="297" border="0"><BR>
<BR>
　　　　色計算の拡張<BR>
　　　　　　色の計算方法を、<BR>
　　　　　　　　１，従来の計算法（色旧ボタン）<BR>
　　　　　　　　２，Phong計算式による計算法（色Ｐボタン）<BR>
　　　　　　　　３，Blinn計算式による計算法（色Ｂボタン）<BR>
　　　　　　　　４，Schlick計算式による計算法（色Ｓボタン）<BR>
　　　　　　　　５，メタセコイアClassic計算式による計算法（色Ｍボタン）<BR>
　　　　　　　の５つから選べるようにしました。<BR>
　　　　　　　２から５を選ぶことにより、メタセコイアと、近い色で、表示することが出来ます。<BR>
<BR>
　　　　　　　２，３，４は、スペキュラーの計算のみが違います。<BR>
　　　　　　　表示速度は、従来の計算方法が、一番、速いです。<BR>
<BR>
<BR>
　　　　　　　色のオーバーフロー処理を<BR>
　　　　　　　　　１，クランプによる処理（OFCボタン）<BR>
　　　　　　　　　２，スケールによる処理（OFSボタン）<BR>
　　　　　　　　　３，オリジナルによる処理(OFOボタン)<BR>
　　　　　　　の３つから選べるようにしました。<BR>
<BR>
　　　　　　　１は、一番速いですが、自己照明などが強くなると、色が破綻します。<BR>
　　　　　　　２は、破綻しませんが、色が暗くなります。<BR>
　　　　　　　３は、明るさを落とさないように、処理します。<BR>
<BR>
<BR>
　　　　　　　自己照明（emissive）と、スペキュラーPowerを有効にしました。<BR>
　　　　　　　（色旧ボタンを押しているときは、有効になりません。）<BR>
<BR>
<BR>
　　　　　　　今回のバージョンアップで、sigの色が、メタセコイアと近い色で、表示できるようになりました。<BR>
　　　　　　　古いsigで自己照明を有効にしたい場合は、コンバート作業が必要です。<BR>
　　　　　　　RokDeBone2のページに、SigColorChangeというコンバーターを、置いておきますので、ご使用ください。<BR>
<BR>
　　　　読み込みの高速化<BR>
　　　　　　sig <BR>
　　　　　　　　ポリゴンの多いデータほど、効果が現れます。12000ポリゴンで、5.5倍速程度。<BR>
　　　　　　mqo<BR>
　　　　　　　　1.5倍速程度。<BR>
<BR>
　　　　モデルデータを読み直したときに、古いテクスチャを破棄していなかったのを修正。<BR>
<BR>
<BR>
<B>ver1.0.8.0での変更点</B><BR>
<BR>
　　　　ライトの属性に、ブレンディングモードを追加<BR>
　　　　　　頂点のdiffuse色と、ライトの色を、PhotoShopのブレンド方式で、ブレンドします。<BR>
　　　　　　5種類のブレンド方式は、以下の通りです。<BR>
　　　　　　　　１，乗算<BR>
　　　　　　　　２，スクリーン<BR>
　　　　　　　　３，オーバーレイ<BR>
　　　　　　　　４，ハードライト<BR>
　　　　　　　　５，覆い焼き<BR>
　　　　　　<BR>
　　　　　　頂点のdiffuse色に対する処理なので、白い頂点にテクスチャを貼っているようなモデルでは、効果は、ほとんど出ません。<BR>
　　　　　　「色旧」ボタンを押しているときは、色のバランスが大きく崩れる場合があります。<BR>
<BR>
　　　　　　下の図は、ライト色（142, 142, 142）のときの、各モードの実行画面です。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_lblend_1.jpg" width="468" height="522" border="0"><BR>
　　　　　　下の図は、ライト色(255, 0, 128)のときの、各モードの、実行画面です。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_lblend_2.jpg" width="468" height="522" border="0"><BR>
<BR>
　　　　　　ライトのブレンディングモードは、メインウインドウの、「平行光源設定」メニューをクリックし、<BR>
　　　　　　ダイアログのラジオボタンを選択することで、設定します。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_lightdlg.jpg" width="349" height="422" border="0"><BR>
<BR>
<BR>
　　　　バグの修正<BR>
　　　　　　マニピュレータの円および球が、モデルデータで隠れてしまうバグを修正しました。<BR>
　　　　　　モーションダイアログの、ＩＫ軸設定用の矢印の表示が、おかしかったのを修正しました。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.8.1での変更点</B><BR>
<BR>
　　　　バグの修正<BR>
　　　　　　ボーンマーク（線）が、モデルデータの後ろの隠れてしまうのを、修正しました。<BR>
<BR>
<BR>
<B>ver1.0.8.2での変更点</B><BR>
<BR>
　　　　バグの修正<BR>
　　　　　　ＩＫターゲットの表示がおかしかったのを修正しました。<BR>
<BR>
<BR>
<B>ver1.0.8.3での変更点</B><BR>
<BR>
　　　　バグの修正<BR>
　　　　　　「位」ボタンを押して、位置調整モードに入ったときの処理の修正<BR>
<BR>
　　　　　　　　面を選択するモード<BR>
　　　　　　　　　　クリックした場所と違う面が選ばれるバグを修正（ver1.1.0.6以降のバグ）<BR>
　　　　　　　　　　選択色の線が、変なところに表示されることがあるバグを修正（昔からのバグ。両面オブジェクト）<BR>
<BR>
　　　　　　　　頂点を選択するモード<BR>
　　　　　　　　　　裏面の頂点が選択されることがある不具合を修正。<BR>
　　　　　　　　　　近い頂点が複数あった場合、カメラから遠い方の頂点が選ばれてしまうことがある不具合を修正。<BR>
　　　　　　　　　　<BR>
<BR>
　　　　ファイルの整理<BR>
　　　　　　リソースファイルを、Mediaフォルダにまとめました。<BR>
　　　　　　サンプルファイルを、Sampleフォルダにまとめました。<BR>
<BR>
<BR>
<B>ver1.0.8.4での変更点</B><BR>
<BR>
　　　　平行光源設定ダイアログのバージョンアップ<BR>
　　　　　　メタセコ方式を採用しました。<BR>
　　　　　　マウスドラッグで、光の向きを設定できるようになりました。<BR>
　　　　　　ＯＫボタンを押さないでも、リアルタイムで、設定が、反映されるようにしました。<BR>
　　　　　　カメラの向きに対して、光が一定の方向を向くように、ライトの向きを回転します。<BR>
　　　　　　モードレスダイアログにしたので、ダイアログを開きながら、メインウインドウで、ＩＫ出来ます。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_newlightdlg.jpg" width="245" height="321" border="0"><BR>
<BR>
</P>
<P><B>ver1.0.8.5での変更点</B><BR>
<BR>
　　　　プラグインから呼び出す関数の修正<BR>
　　　　　　RDBGetNormal<BR>
　　　　　　　　カリング処理を無効にしました。<BR>
　　　　　　　　RokDeBone2の描画手続きを踏まないで、法線計算しても、値が乱れなくなりました。<BR>
　　　　　　　<BR>
　　　　リソースをちょっと修正<BR>
　　　　　　平行光源の向き設定用の、球のマテリアルを、影が分かりやすくなるように、設定し直しました。<BR>
<BR>
<BR>
<B>ver1.0.8.6での変更点</B><BR>
<BR>
　　　　バグの修正<BR>
　　　　　　モデルデータを読み込んだ状態で、ウインドウの大きさを変えると、<BR>
　　　　　　ボーンの円のマークが、四角ポリゴンになってしまう不具合を修正しました。<BR>
<BR>
　　　　　　ウインドウの大きさを、小さくしすぎると、エラーになるのを修正しました。<BR>
　　　　　　　　一定以下に、小さくできなくしました。<BR>
<BR>
　　　　　　ウインドウの大きさを小さくしてから、再び大きくすると、<BR>
　　　　　　大きくなった部分の、ツールバーのボタンが、表示されない不具合を修正しました。<BR>
</P>
<P><B>ver1.0.8.7での変更点</B><BR>
<BR>
　　　　メタセコイアでの、スムージング角度の設定に基づいて、スムージングを行うようにしました。<BR>
　　　　（今までは、全て、スムージングしていました。）<BR>
<BR>
<BR>
<B>ver1.0.8.8での変更点</B><BR>
<BR>
　　　　バグの修正<BR>
　　　　　　プレビュー中に、アプリケーションを終了しようとすると、アプリケーションが固まるバグ、を修正しました。<BR>
<BR>
　　　　プレビュー中に、メインウインドウのメニューをクリックした場合は、モーション再生を中止するようにしました。<BR>
<BR>
　　　　RokDeBone2のページに、「今後のバージョンアップ予定」のページを追加しました。<BR>
<BR>
<BR>
<B>ver1.0.8.9での変更点</B><BR>
<BR>
　　　　頂点単位のマテリアル設定機能を実装しました。<BR>
　　　　　　ツールバーの、「マ」ボタンを押すと、頂点マテリアル設定モードになります。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_vmatbutton.jpg" width="605" height="240" border="0"><BR>
　　　　　　（ピンクの四角い点は、頂点をクリックする目印の表示で、頂点マテリアルとは、関係ありません。）<BR>
<BR>
<BR>
　　　　　　頂点毎に、diffuse, specular, ambient, emissive, specular power を設定出来ます。<BR>
　　　　　　モデルデータに、リアルな陰影効果を与えたりするのに、有効です。<BR>
　　　　　　<BR>
　　　　　　頂点マテリアルを設定した頂点の色は、ライトの影響を受けて、変化します。<BR>
<BR>
　　　　　　ダイアログで、マテリアルを作成し、マウスで頂点をクリックすることで、設定します。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_vmaterial.jpg" width="356" height="697" border="0"><BR>
<BR>
　　　　　　ダイアログには、照光を考慮した球の色が表示されます。<BR>
<BR>
　　　　　　頂点ペイントは、20回まで、アンドゥーできます。<BR>
<BR>
　　　　　　作成したマテリアルは、16個のマテリアルパレットに保存しながら、作業することが出来ます。<BR>
<BR>
　　　　　　マテリアルパレットは、mplという拡張子のファイル（テキスト形式）で、保存、読み込みが出来るので、<BR>
　　　　　　使い回すことが出来ます。<BR>
<BR>
<BR>
<B>ver1.0.9.0での変更</B><BR>
<BR>
　　　　マウスをドラッグ、ホイールしたときの処理を、選べるようにしました。<BR>
　　　　　　メインウインドウの「オプション」メニューを選択し、「マウスの設定画面へ」ボタンを押すと、<BR>
　　　　　　マウス設定用のダイアログが出ます。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_mouseoptdlg.jpg" width="402" height="354" border="0"><BR>
<BR>
　　　　　　マウス設定用ダイアログで、左ドラッグ、右ドラッグ、ホイールの時の処理を、選択できます。<BR>
　　　　　　選択した処理方法は、iniファイルに保存されます。<BR>
<BR>
　　　　　　メタセコイアと同じカメラの操作方法にすることも、可能です。<BR>
　　　　　　（左クリックを無し、右クリックをカメラ回転、ホイールをカメラ距離　に設定すれば、同じになります。）<BR>
<BR>
<BR>
<B>ver1.0.9.1での変更点</B><BR>
<BR>
　　　　将来のＸファイル入力のため、また、将来の頂点単位の影響度設定の自由度を上げるために、<BR>
　　　　一つの頂点に対して影響するボーンの数を、変化させることが出来るように、データ構造を変えました。<BR>
　　　　<BR>
　　　　デフォルト状態は、変わらないようにしたので、いままでと同じように、モーションが再生されます。<BR>
　　　　もし、このバージョンで、モーションが、以前と同じように再生されない、という不具合が出ましたら、<BR>
　　　　それは、バグですので、ご報告を、お願いします。<BR>
<BR>
　　　　だいぶ前から告知していたとおり、BIMファイルのサポートを止めました。<BR>
　　　　（影響範囲設定は、im2ファイルを使ってください。）<BR>
<BR>
<BR>
<B>ver1.0.9.2での変更点</B><BR>
<BR>
　　　　階層構造エディタに、ボーンの削除メニューが付きました。<BR>
<BR>
　　　　マウスクリックとドラッグで、ボーンを作成、位置調整出来るようになりました。<BR>
　　　　　　ツールバーの「ボ」ボタンを押すと、ボーン作成モードになります。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_bonebutton.jpg" width="611" height="215" border="0"><BR>
<BR>
　　　　　　右クリックで親のボーンを選択し、左クリックで、新しいボーンを作成するモードと、<BR>
　　　　　　左ドラッグで、ボーンの位置を調整するモードがあります。<BR>
<BR>
　　　　　　親にするボーンは、右クリックの他に、階層構造エディタで選択することも可能です。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_bonedlg.jpg" width="673" height="510" border="0"><BR>
<BR>
　　　　　　作成に失敗したときに、スムーズに、削除が出来るように、削除ボタンも、ダイアログに付けました。<BR>
<BR>
　　　　　　ダイアログで、名前の設定も出来ます。<BR>
<BR>
　　　　　　位置調整は、マニピュレータを使うことが出来ます。<BR>
<BR>
<BR>
　　　　メモリ使用量を、ちょっと、削減。<BR>
　　　　　　表示用パーツの数が多いほど、効果が現れます。<BR>
<BR>
<BR>
<B>ver1.0.9.3での変更点</B><BR>
<BR>
　　　　デバッグ<BR>
　　　　　　2股以上に分かれているボーンを削除すると、階層構造が壊れるバグを修正しました。<BR>
<BR>
　　　　　　ボーン作成モードで、一度も、右クリックをしない状態で、ボーン削除をすると、エラーになるバグを修正しました。<BR>
<BR>
<BR>
<B>ver1.0.9.4での変更点</B><BR>
<BR>
　　　　デバッグ<BR>
　　　　　　「パースペクティブ」メニューで、正射影を選択しているときの、ＩＫ、位置調整の位置がずれるバグを修正しました。<BR>
<BR>
<BR>
<A href="rokdebone.htm">RokDeBone2のトップページに戻る</A><BR>
<BR>
<A href="index.htm">トップページに戻る</A><BR>
<BR>
<BR>
</P>
</BODY>
</HTML>
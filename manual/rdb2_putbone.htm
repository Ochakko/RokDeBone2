<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=SHIFT_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 9.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE></TITLE>
</HEAD>
<BODY>
<P><FONT size="+2"><B>六角大王データに、ボーンを入れる手順</B></FONT></P>
<P><BR>
このページでは、形状データに、ボーンを入れる際に、必要な手順を説明します。<BR>
六角大王データについて、書きますが、<BR>
メタセコイアデータでも、ほとんど、同じ手順でＯＫです。<BR>
<BR>
メタセコイアデータの場合は、<BR>
六角大王データの時に必要な、色の指定し直しや、裏面表面の指定など、<BR>
が必要ないため、より、簡単に、ボーンを入れることが出来ます。<BR>
<BR>
フリー版のrokデータにボーンを入れる手順を説明しますが、<BR>
RSuperシリーズも持っているものとして、話を進めます。<BR>
<BR>
このページの一番下の部分で、<BR>
説明に使用したデータをダウンロードできますので、<BR>
参考にしてください。<BR>
<BR>
<BR>
ではでは、順を追って、説明していきます。<BR>
<BR>
</P>
<P><BR>
<FONT size="+2"><B>１，形状データのポーズを、大の字にする。</B></FONT>(フリー版六角大王上の作業）</P>
<P>ボーンの影響度が、できるだけ正しく設定されるように、形状データのポーズを変えます。<BR>
人体の場合ですと、大の字型にポーズをとっておくのが、一般的です。<BR>
<BR>
大の字じゃないと、どんな都合の悪いことが起こるかといいますと、<BR>
例えば、手と足が、すごい近い場所にある場合、<BR>
手を動かしたときに、足の頂点まで、一緒に、移動したり変形したりしてしまうことがあるのです。<BR>
<BR>
これらの不具合を解消する手段は、用意してあります（<A href="rdb2_influence.htm">影響度の設定方法</A>）が、<BR>
その際にも、モデルデータが、大の字になっていた方が、操作がしやすくなります。<BR>
<BR>
</P>
<P><IMG src="jpegfiles/rdb2_pb_10.jpg" width="358" height="345" border="0"><BR>
<BR>
<BR>
<BR>
<FONT size="+2"><B>２，ボーンを線形状で入れる。</B></FONT>（RSuperでの作業）<BR>
<BR>
<FONT color="#ff0000">RokDeBone2 ver1.0.9.2からは、RokDeBone2上で、<BR>
マウスクリックにより、ボーンを作成することが出来るようになりました。<BR>
詳しくは、<A href="rdb2_makebone.htm">RokDeBone2上で、ボーンを入れる方法</A>をお読みください。<BR>
</FONT><BR>
<BR>
さて、いよいよ、ボーンを入れる段階になりました。<BR>
<BR>
ボーンはどうやって入れればいいかといいますと、<BR>
要するに、曲げたい部分（関節）を結んでいった線を書いていけば良いのです。<BR>
<BR>
（ボーンと関係ない形状データと混ざらないように、<BR>
最初に形状データを編集不可能にすることをおすすめします。<BR>
レイヤーウインドウで、鉛筆マークをクリックして、マークを消すと、<BR>
編集不可能にすることが出来ます。）<BR>
<BR>
<BR>
例えば、足の場合、<BR>
股の付け根部分--&gt;ひざの部分--&gt;足首の部分--&gt;つま先の部分<BR>
を線で結んだような形状を作成してください。<BR>
<BR>
ここで、忘れてはいけないのは、つま先の部分です。<BR>
人間のつま先には、関節はありませんが、<BR>
ボーンには、ベクトルが必要になるので、<BR>
先端部分にも線を作ることが必要です。<BR>
<BR>
<BR>
なお、親子関係については、RokDeBone2で設定することになるので、<BR>
ここでは、あまり、考えなくても良いです。<BR>
<BR>
<BR>
<IMG src="jpegfiles/rdb2_pb_40.jpg" width="357" height="340" border="0"><BR>
<BR>
<BR>
上の図は、ボーンを入れているときの図です。<BR>
分かりやすいように、ボーンだけを表示すると、<BR>
下の図のようになります。<BR>
<BR>
<BR>
<IMG src="jpegfiles/rdb2_pb_41.jpg" width="490" height="548" border="0"><BR>
<BR>
<BR>
ボーンの編集が終わったら、RSuperの書き出し機能を使って、「フリーソフト版六角大王」形式（拡張子rok）で、<BR>
出力してください。<BR>
<BR>
<BR>
RokDeBone2用に、ボーンを入れる際には、以下のことにも、注意してください。<BR>
<A href="rdb2_putbone2.htm">ボーンを入れる際の注意のページ</A><BR>
<BR>
<BR>
<BR>
<FONT size="+2"><B>３，RokDeBone2で読み込む。</B></FONT>（RokDeBone2での作業）<BR>
<BR>
ステップ４で作ったデータを、RokDeBone2で読み込みます。<BR>
メインウインドウのfileメニューから、「形状ファイル読み込み」--&gt;「rokファイルの読み込み」を選びます。<BR>
下のようなダイアログが出てきます。<BR>
下と同じように、倍率とセンタリングのチェックをしてください。<BR>
詳しくは、<BR>
<A href="rdb2_file.htm">RokDeBone2のファイル入出力</A><BR>
の「rokファイルの読み込みオプション」をご覧ください。<BR>
<BR>
<BR>
<IMG src="jpegfiles/rdb2_pb_50.jpg" width="246" height="439" border="0"><BR>
<BR>
<BR>
読み込んだ直後のRokDeBone2の画面を下に示します。<BR>
赤い丸で表示されているのが、線形状で入力したボーンの元となる点です。<BR>
（オプションメニューで非表示にすることも可能です。）<BR>
<BR>
<IMG src="jpegfiles/rdb2_pb_51.jpg" width="291" height="372" border="0"><BR>
<BR>
RSuper--&gt;フリー版rokにするときに、色情報が、一部、失われてしまいます。<BR>
また、表示面が、反対を向いていて、表示されていない場合があります。<BR>
<BR>
ここでは、色の修正と、表示面の修正を先に説明しますが、<BR>
後で説明するボーンの設定の後で、これを行った方が良い場合があります。<BR>
というのは、ボーンの設定をしてみて、はじめて、新たにパーツ分けが必要なことが<BR>
分かる場合があります。<BR>
<BR>
パーツ分けからやり直す場合は、色の修正や、表示面の修正をせっかくしていても、<BR>
また、はじめからやり直すことになってしまいます。<BR>
そういったわけで、ボーンの設定を先にした方が安全です。<BR>
<BR>
ここでは、説明の際に、見苦しいので、先に、色等を直します。<BR>
<BR>
<BR>
<BR>
<BR>
<FONT size="+1"><B>４−１，色と表示面を修正する。</B></FONT><BR>
<BR>
まず、作業がしやすいように、オプション設定の変更から始めます。<BR>
メインウインドウのオプションメニューを選択し、<BR>
「階層構造エディタで選択したツリーのみ表示する」を選択してください。<BR>
<BR>
次に、階層構造エディタのツリーをクリックして、展開していってください。<BR>
ツリー中の△印のものが、３Ｄ表示用オブジェクト（形状データ）です。<BR>
<BR>
△マークをクリックした状態で、階層エディタの「表示パラメータの設定」を選択してください。<BR>
sig paramsダイアログが出てきます。<BR>
sig paramsダイアログで、名前、表示面、色などパラメータを設定できます。<BR>
（詳しくは、<A href="rdb2_dlgs.htm">RokDeBone2のダイアログの説明</A><BR>
の「sig params　ダイアログ」をご覧ください。）<BR>
<BR>
△マークをクリックしても、メインウインドウに、３Ｄ表示が現れない場合は、<BR>
表示面が逆になっている可能性が高いです。<BR>
表示面を「裏面」または、「両面」などにして見てください。<BR>
３ｄオブジェクトが表示されると思います。<BR>
<BR>
設定が終わったら、オプションを元に戻しておきましょう。<BR>
オプションダイアログで、「常に全てのポリゴンを表示する」を選んでください。<BR>
<BR>
<BR>
<BR>
<BR>
<FONT size="+1"><B>４−２，ボーンの名前と階層を付ける。</B></FONT><BR>
<BR>
次に、ボーンに名前と階層を付けます。<BR>
名前は、作業がしやすくなるために付けるだけで、必須ではありませんが、<BR>
階層を付けないと、メインウインドウに表示されている赤い丸は、ボーンとして機能しません。<BR>
<BR>
階層構造とは、親子関係のことです。<BR>
親の動きに子供は追従することになります。<BR>
<BR>
<BR>
具体的に、どのような構造にすれば良いかといいますと、<BR>
足の場合なら、<BR>
ももの付け根--&gt;ひざ--&gt;足首--&gt;つま先<BR>
手の場合なら<BR>
肩--&gt;ひじ--&gt;手首--&gt;指先<BR>
のような構造にすれば良いです。<BR>
上記は、それぞれ、親--&gt;子供--&gt;子供の子供...の形式と解釈してください。<BR>
<BR>
RokDeBone2でのボーンの名前と階層構造の設定の仕方には、<BR>
２通りあります。<BR>
<BR>
一つは、階層構造エディタで、ボーンを一個ずつ設定していく方法で、<BR>
二つ目は、ボーンファイルで、一括して設定する方法です。<BR>
<BR>
<BR>
<BR>
<B>４−２−１，階層構造エディタでボーンの設定をする</B><BR>
<BR>
まず、階層構造エディタで、ボーンパートをクリックして、ツリーを展開してみてください。<BR>
□マークの項目が、ずらずらと並んでいると思います。<BR>
選択したボーンツリーだけが、メインウインドウに赤い丸で表示されます。<BR>
ひとつずつ選択し、「表示パラメータの設定」メニューで、名前を設定してください。<BR>
<BR>
名前の設定が終わったら、<BR>
子供にしたい□マークのジョイントを、親にしたい□マークのジョイントに、<BR>
ドラッグアンドドロップしてください。<BR>
<BR>
一個ずつ設定するのが、面倒な場合は、５−２−２のボーンファイルでの設定を試してみてください。<BR>
<BR>
<BR>
<B>４−２−２，ボーンファイルで、ボーンの設定をする</B><BR>
<BR>
ボーンファイルを使用することで、<BR>
たくさんのボーンの名前と階層構造を、一括して設定することが出来ます。<BR>
<BR>
ボーンファイルのフォーマットに関しては、<BR>
<A href="rdb2_bonefile.htm">ボーンファイルの説明</A>をご覧ください。<BR>
<BR>
<BR>
ボーンファイルを作成したら、メインウインドウの、fileメニューで読み込んでください。<BR>
この説明で使用したボーンファイルは、このページの一番下で、<BR>
ダウンロードできます。<BR>
（ファイルの名前は、ni_parts_4_bone.bon　です。）<BR>
<BR>
<BR>
ここまで、設定が出来た状態の画面を下に示します。<BR>
<BR>
<IMG src="jpegfiles/rdb2_pb_52.jpg" width="697" height="510" border="0"><BR>
</P>
<P><BR>
<B>４−３，影響ボーンの設定をする。</B><BR>
<BR>
影響度の設定は、<A href="rdb2_influence.htm">影響度の設定のページ</A>をご覧ください。<BR>
<BR>
<BR>
<BR>
<B>４−４，編集データを保存する。</B><BR>
<BR>
これで、設定は終了です。<BR>
設定が終わったら、ファイルに保存するのを忘れないでください。<BR>
<BR>
メインウインドウのfileメニューの形状書き出しで、sig形式で書き出してください。<BR>
<BR>
<BR>
<B>４−５，最後に。</B><BR>
<BR>
設定する際のヒントなどを、<A href="rokdebone.htm">RokDeBone2のページ</A>のＴｉｐｓに書きました。<BR>
ご覧ください。<BR>
<BR>
また、ボーンファイルを扱う際に、便利になるツールが、<A href="userstool.htm">ユーザーさんのツール</A>にありますので、<BR>
あわせてご覧ください。<BR>
<BR>
<BR>
<BR>
</P>
<P><A href="rokdebone.htm">RokDeBone2のページに戻る</A></P>
<P><A href="index.htm">トップページに戻る</A><BR>
</P>
</BODY>
</HTML>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 6.5.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE></TITLE>
</HEAD>
<BODY>
<P><FONT size="+2"><B>モーションの軸対称ペースト機能について</B></FONT><BR>
<BR>
左右対称のモーションの作成などに、役に立つように、<BR>
任意の軸に対して、対称になるように、姿勢情報をペーストする機能が付きました。<BR>
<BR>
軸対称ペースト機能を使うためには、<BR>
決まりに従って、ジョイントの名前を付ける必要があります。<BR>
<BR>
まず、その決まりを説明します。<BR>
<BR>
<BR>
<FONT size="+1"><B>ジョイントの名前の付け方</B></FONT><BR>
<BR>
名前の付け方は、どの軸に関して、対称なモーションを作るかによって、異なります。<BR>
Ｘ軸に関して、対称なモーションを作る場合には、<BR>
<BR>
片方のジョイントの名前に、<BR>
(任意の名前)<B>_X+</B><BR>
という名前を付け、<BR>
対応するもう片方のジョイントの名前に、<BR>
(任意の名前)<B>_X-</B><BR>
という名前を付けます。<BR>
任意の名前の部分には、両方に共通の名前を付けてください。<BR>
<BR>
ここでいう、Ｘ軸に対称とは、原点を通り、Ｘ軸に垂直な平面に関して、対称である、という意味です。<BR>
<BR>
同様に、Ｙ軸、Ｚ軸に関して対称なモーションを作りたい場合には、<BR>
ジョイントの名前を、<BR>
　(任意の名前)<B>_Y+</B>　と 　(任意の名前)<B>_Y-<BR>
</B>あるいは、　<BR>
　(任意の名前)<B>_Z+</B>　と 　(任意の名前)<B>_Z-</B><BR>
<BR>
のように付けます。<BR>
<U>アンダーバーより後の文字は、<B>半角</B>である必要があります。（アンダーバーも半角です）<BR>
+と-は、対になっていればよいので、座標値の符号に合わせる必要は、ありません。<BR>
</U><BR>
<BR>
<B>軸対称ペーストでは、_X+と_X-、_Y+と_Y-、_Z+と_Z-が、<BR>
それぞれの軸に対して、対称となるように姿勢情報を変換して、ペーストします。<BR>
</B><BR>
<BR>
<BR>
<FONT size="+1" color="#ff0000"><B><U>ver1.0.2.1での追加点</U></B></FONT><BR>
<BR>
対応する対称ジョイントが存在しない場合でも、軸対称の姿勢をペーストすべきケースがありました。<BR>
（体の中心部の腰や、胴のねじれなど。）　　　　<BR>
これらのケースに対応するために、規則を追加しました。<BR>
<BR>
軸対称ペーストをしたい、体の中心部などのジョイントの名前には、<BR>
（任意の名前）<B>_X</B><BR>
（任意の名前）<B>_Y</B><BR>
（任意の名前）<B>_Z</B><BR>
の形式で、名前を付けてください。<BR>
<U>アンダーバーと、Ｘ，Ｙ，Ｚは、半角</U>で書いてください。<BR>
<BR>
軸対称ペースト時に、<B>自分自身の姿勢を対称変換した姿勢が、ペーストされるようになります。</B><BR>
<BR>
<BR>
<BR>
<BR>
それでは、実際の例を見てみましょう。<BR>
<BR>
<BR>
<BR>
<FONT size="+1"><B>軸対称ペースト機能の使用例</B></FONT><BR>
<BR>
ここでは、Ｘ軸に関して、対称なモーションを作る例を、説明します。<BR>
<BR>
まず、名前の付け方の規則に従って、<BR>
ジョイントに名前を付けます。<BR>
<BR>
このとき、階層構造エディタは、下図のようになります。<BR>
<BR>
<IMG src="jpegfiles/symmtest_tree.jpg" width="281" height="514" border="0"><BR>
<BR>
ジョイント1_X+　と、ジョイント1_X- がＸ軸対称の姿勢を持つことになります。<BR>
同様に、ジョイント2_X+　と、ジョイント2_X-や、<BR>
ジョイント3_X+　と、ジョイント3_X-　も、対称な姿勢を持つことになります。<BR>
<BR>
次に、このモデルデータに、ＩＫで、適当にポーズを作ります。<BR>
下の図のようになります。<BR>
<BR>
<IMG src="jpegfiles/symmtest_bef.jpg" width="510" height="440" border="0"><BR>
<BR>
このポーズは、フレーム番号０に作りました。<BR>
<BR>
このポーズのＸ軸対称のポーズを、フレーム番号１０に作ることにしましょう。<BR>
まず、モーションダイアログの、フレームコピーボタンを押して、姿勢をコピーします。<BR>
この際、<U>_X+ と、_X- の両方のジョイントの姿勢をコピー</U>するようにしてください。<BR>
<U>片方だけコピーしても、対称ペーストは出来ません。</U><BR>
例えば、この例では、”全体移動”ボーンを、コピーするボーンツリーに指定して、コピーを行ってください。<BR>
<BR>
次に、モーションダイアログで、フレーム番号を１０に移動します。<BR>
そして、フレームペーストボタンを押してください。<BR>
ペーストするボーンの名前の確認ダイアログが出てきた後に、<BR>
対称ペーストをするかどうか、選択するダイアログが出てきます。<BR>
<BR>
<IMG src="jpegfiles/symmtest_select.jpg" width="397" height="217" border="0"><BR>
<BR>
このダイアログで、”名前の規則に従って、軸対称ペーストをする”を選択してください。<BR>
<BR>
すると、フレーム１０のポーズは、下図のように変化します。<BR>
<BR>
<IMG src="jpegfiles/symmtest_aft.jpg" width="509" height="439" border="0"><BR>
<BR>
<BR>
フレーム０のポーズをＸ軸に対して対称にしたポーズが、フレーム１０に出来ました。<BR>
<BR>
<BR>
ジョイント１_X+　などの名前を付けても、<BR>
コピーしたボーンツリーの中に、ジョイント１_X-　という名前が含まれていない場合は、<BR>
対称変換は、行われず、そのままの姿勢がペーストされますので、注意してください。<BR>
<BR>
自分自身の姿勢を対称変換して、ペーストしたい場合には、+, - なしの_X, _Y,.
_Zの付いた名前を使用してください。<BR>
この方法は、体の中心部分の、腰や、胴のジョイントに使うと便利です。<BR>
<BR>
例えば、<BR>
全体移動というジョイントの名前を、全体移動_X　という名前に変えれば、<BR>
全体移動ジョイントの姿勢も、軸対称変換されるようになります。（ver1.0.2.1以降）<BR>
<BR>
<BR>
<BR>
<B>補間法についての注意点</B><BR>
<BR>
以上で、対称ペーストの説明は終わりですが、<BR>
ちょっと、注意してもらいたい点があります。<BR>
<BR>
上で説明した例のように、フレーム０とフレーム10に対称なポーズを作成した場合、<BR>
その間のフレームのポーズが、うまく補間出来ない場合があります。<BR>
フレーム０とフレーム１０のポーズが、あまりにも、大きく、変化している場合に、うまく補間出来ません。<BR>
これは、モーションのスプライン補間が、大きな角度に対応していないために、おこります。<BR>
<BR>
ですが、解決策はあります。<BR>
まず、モーションダイアログの”設定”ボタンを押して、設定ダイアログを出してください。<BR>
設定ダイアログの、”モーションの補間法”のラジオボタンを、<BR>
”球面線形補間”に設定してください。<BR>
<BR>
その後、フレーム番号を５などの値にしてから、<BR>
そこにモーションポイントを作ります。<BR>
モーションポイントを作るには、<BR>
メインウインドウ上で、どれでも良いので、一つボーンをクリックします。<BR>
<BR>
<U>フレームを小分けに</U>した後で、<BR>
再び、設定ダイアログを出して、<BR>
モーションの補間法を、”スプライン補間”に戻してください。<BR>
<BR>
この方法で、急激に変化するポーズの間の補間も、うまくいきます。<BR>
<BR>
<BR>
<A href="rokdebone.htm">RokDeBone2のトップページに戻る</A></P>
</BODY>
</HTML>
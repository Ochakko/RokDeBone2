<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 6.5.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE></TITLE>
</HEAD>
<BODY>
<P><B><FONT size="+2">RokDeBone2の各部の説明</FONT></B></P>
<P>RokDeBone2のメインウインドウのメニューから表示することの出来る、<BR>
主なダイアログについて、説明します。<BR>
</P>
<P><FONT size="+1"><B>カメラダイアログ</B></FONT><BR>
<BR>
<IMG src="jpegfiles/cameradlg.jpg" width="418" height="217" border="0"><BR>
<BR>
メインウインドウの”表示”メニューから呼び出します。<BR>
視点のパラメータを設定できます。<BR>
ダイアログの右側に書いてある、（）内のキー操作でも、同じことが出来ます。<BR>
<BR>
</P>
<P><FONT size="+1"><B>階層構造エディタ</B></FONT><BR>
<BR>
<IMG src="jpegfiles/treeviewdlg.jpg" width="282" height="515" border="0"><BR>
<BR>
<BR>
RokDeBone２では、*.rok, *.mqoファイルの中の、<BR>
<B>面の形成にかかわっていない</B>線分を構成する点を、<B>ジョイント</B>とみなします。<BR>
<B>ジョイント</B>に、階層構造をつけたものが、<B>ボーン</B>となります。<B><BR>
</B><BR>
<U>階層構造の付いていないジョイントのみでは、モーションは作れません。</U><BR>
<BR>
<BR>
　ボーンが入ったrokまたは、mqoを読み込んでください。<U>３D画面に丸印で表示されているのがジョイントです。</U><BR>次に、「表示」メニューから、階層構造エディタを開いてください。<BR>”ボーンパート”という項目の子供項目に、”ボールジョイント＊”という項目が並んでいるはずです。<BR>階層構造エディタでは、<B>ジョイントは四角のアイコン</B>で表示されます。<BR>
<BR>
階層構造エディタでは、<U>表示用パーツは<B>三角のアイコン</B>、ジョイントパーツは<B>四角のアイコン</B>、それ以外は<B>丸のアイコン</B></U>で表示されています。<BR>
<BR>
　次に、ボールジョイント項目をモーションエディタ上で、一つずつマウスで選択してみてください。<BR>
選択されたジョイントは、３D画面で、赤色の丸で表示されます。<BR>
<BR>
　階層構造エディタの<B>「パラメータ設定」メニュー</B>を選択すると、”sig Paramsダイアログ”が開きます。<BR>”sig 
Paramsダイアログ”で、現在TreeViewで選択しているパーツのパラメータを設定できます。<BR>モーションを設定する時にわかり易いように、「名前」エディットボックスに、”頭”、”右手”など入力して、ジョイントに名前を付けてください。<BR>
<BR>　ごみデータなど、ジョイントにしたくないデータがジョイントとして認識されている場合があります。<BR>このような時には、”sig 
Paramsダイアログ”で、<B>「このオブジェクトを無効にする」</B>を選択してください。<BR>３D画面に無効にしたジョイントは表示されなくなり、計算にも反映されなくなります。<BR>
<BR>　さて、いよいよ、ジョイントに階層構造をつけてボーンとして機能するようにします。<BR>
階層構造をつけるには、子供にしたい項目を、<B>親にしたい項目にドラッグ</B>するだけです。<BR>
<B>親項目のジョイントから、子供項目のジョイントへの線分を、ボーンと呼びます。<BR>
</B><BR>　階層構造の例は、付属データの*.sigを参照してください。<BR>
<BR>
<BR>
<U>階層構造エディタには、表示されているのに、３D画面に表示されていない場合</U>、<BR>
<B>裏面</B>が表示されている可能性があります。<BR>
”sig Paramsダイアログ”の表示面の設定で、パーツごとに、”表面”、”裏面”、”両面”などを試してみてください。<BR>
<BR>
<BR>
</P>
<P><FONT size="+1"><B>Sig　Paramsダイアログ</B></FONT><BR>
<BR>
<IMG src="jpegfiles/sigparamsdlg.jpg" width="401" height="609" border="0"><BR>
<BR>
<BR>
　階層構造エディタの「表示パラメータ設定」メニューを選択、または、Ctrl+I を入力することにより、”sig 
Paramsダイアログ”が表示されます。<BR>
<BR>
　”sig Paramsダイアログ”では、階層構造エディタのTreeViewで選択しているパーツの、表示パラメータを設定することが出来ます。<BR>
階層構造エディタでは、表示用パーツは<B>三角のアイコン</B>、ジョイントパーツは<B>四角のアイコン</B>、それ以外は<B>丸のアイコン</B>で表示されています。<BR>
”sig 
Paramsダイアログ”での、”表示面”、”色”、”テクスチャー”の設定は、<U>三角アイコンのパーツでのみ有効です。</U><BR>
<BR>
　各パーツのパラメータを設定する際には、メインウィンドウの「オプションメニュー」を開き、<BR>
<B>「階層構造エディタで選択したツリーのみ表示する」</B>にチェックをつけると、作業がしやすくなります。<BR>
<BR>
テクスチャーの設定ダイアログが、ver1.0.1.4から、独立しました。<BR>
ぱらぱらアニメについては、<A href="rdb2_texsetting.htm">テクスチャーのぱらぱらアニメの設定方法</A>をご覧ください。<BR>
<BR>
<BR>
関節の曲げ方を、スキニング有りと無しの、どちらか選ぶことが出来ます。<BR>詳しくは、<A href="rdb2_noskinning.htm">スキニング無しで、関節を曲げる方法</A>をご覧ください。<BR>
<BR>
<BR>
パーツごとに、ディスプレイスイッチ番号を、指定することが出来ます。<BR>
詳しい使い方は、<A href="rdb2_dispswitch.htm">ディスプレイスイッチの説明</A>をご覧ください。<BR>
<BR>
</P>
<P><B><FONT size="+1">ジョイント位置調整ダイアログ</FONT></B><BR>
<BR>
<IMG src="jpegfiles/jointlocdlg.jpg" width="261" height="218" border="0"><BR>
<BR>
　あまり、便利ではありませんが、一応、RokDeBone２上でも、ジョイントの作成と、ジョイントの位置調整が出来ます。<BR>
　階層構造エディタの｢ジョイントの追加｣メニューで、新たにジョイントを作成できます。(0.0, 
0.0, 
0.0)の位置に作成されます。<BR>
<BR>
　階層構造エディタの｢ジョイントの位置調整｣メニューで、ジョイントの位置を設定するためのダイアログを呼び出せます。<BR>
<BR>
　ジョイントを作りすぎてしまったり、無駄なジョイントが出来てしまった場合には、”sig
Paramsダイアログ”で、<BR>
"このオブジェクトを無効にする"にチェックをつけることを、お勧めします。<BR>
無効にすることによって、表示や、計算の対象からはずされます。<BR>
<BR>
</P>
<P><BR>
<BR>
</P>
<P><FONT size="+1"><B>影響を受けるボーンの指定ダイアログ</B></FONT><BR>
<BR>
<IMG src="jpegfiles/influencedlg.jpg" width="854" height="324" border="0"><BR>
<BR>　ボーンの構造が複雑になってくると、思い通りのモーションをつけることが、難しくなってきます。<BR>そこで、RokDeBoneでは、”影響を受けるボーン”と”影響を受けないボーン”を指定できるようにしました。<BR>
階層構造エディタの｢影響ボーンの指定｣メニューで指定ダイアログを呼び出します。<BR>
<U>三角アイコンのパーツでのみ有効です。</U><BR>
<BR>”影響を受けるボーン”に指定すると、指定したボーンと、その全ての子のボーンの中から、最短距離にあるボーンの影響を受けるように設定されます。(距離判定は、頂点ごとに行われます)<BR>
<BR>”影響を受けないボーン”に指定すると、指定したボーンと、その全ての子のボーンが頂点に影響を与えないようになります。<BR>
<BR>”影響を受けるボーン”と”影響を受けないボーン”の両方に同じボーンを指定した場合は、<BR>”影響を受けないボーン”の方が優先されます。<BR>
<BR>
<BR>
例えば、上の図のように、<BR>
<BR>
もも<BR>
　　　ひざ ┬くつチャック<BR>
　　　　　　└あし<BR>
<BR>
のようなボーンがあるとき (”ひざボーン”の子供のボーンとして”あしボーン”と”くつチャック”ボーンがあるとき)、<BR>
”影響を受けるボーン”に”ももボーン”を指定し、<BR>
”影響を受けないボーン”に”くつチャックボーン”を指定すると、<BR>
頂点は、”くつチャックボーン”の影響を受けずに、<BR>
”ももボーン”、”ひざボーン”、”あしボーン”の内近いボーンの影響を受けるようになります。</P>
<P><BR>
</P>
<P><FONT size="+1"><B>モーションダイアログ</B></FONT><BR>
<BR>
<IMG src="jpegfiles/motdlg_ver1010.jpg" width="967" height="255" border="0"><BR>
<BR>
メインウインドウの”表示メニュー”から呼び出します。<BR>
<BR>
</P>
<P>TreeView<BR>
ジョイントがツリー形式で表示されます。<BR>
セレクトロック機能（下記参照）を使うときに、ジョイントを選択するために使用します。　<BR>
</P>
<P>カレントフレーム設定スライダ<BR>
ダイアログ下部にある、スライダーです。<BR>
<B>カレントフレーム番号</B>を設定します。設定したフレーム番号は、ダイアログ上に”frameno: *”のように、表示されます。<BR>
カレントフレーム番号は、スライダーの隣にある、スピンコントロールでも、設定できます。<BR>
（ちなみに、”カレント”とは、”現在の”という意味です。）<BR>
</P>
<P>モーションポイント表示ウィンドウ<BR>
カレントフレーム設定スライダの上部にある、白い長方形の部分に、モーションポイントが表示されます。<BR>
モーションポイントは、丸で表示されます。<BR>
横軸はフレーム番号です。<BR>
”カレントフレーム設定スライダ”で設定したフレーム番号の位置に、縦線が入ります。<BR>
縦線と重なる位置に表示されるモーションポイントは、赤色で表示されます。<BR>
このモーションポイントを、”<B>カレントモーションポイント</B>”と呼びます。<BR>
ほとんどの操作は、この”カレントモーションポイント”に対して行われます。<BR>
モーションポイントをマウスでドラッグすることにより、モーションポイントのフレーム番号を変更できます。</P>
<P><BR>
セレクトロック機能<BR>
ボーンが混み合っているモデルの場合、<BR>
動かしたいボーンをマウスでつまむのに、苦労することがあります。<BR>
そんな場合、セレクトロックを使えば、簡単に、動かしたいボーンを選択できます。<BR>
TreeViewで、目的のボーンを選び、セレクトロックボタンを押すだけで、OKです。<BR>
<BR>
<BR>
IKパラメータ<BR>
IK操作時に、影響するボーンの階層数を指定できます。<BR>
例えば、指先のボーンをドラッグする場合、<BR>
大きな階層数を指定しておくと、指、手、肩などが連動して動きます。<BR>
逆に、１などの小さな階層数を指定すると、指だけが動きます。<BR>
<BR>
<BR>
ツイスト機能<BR>
マウスによるドラッグでは、<BR>
ボーンのベクトルを軸として、ねじろうとしても、なかなか出来ません。<BR>
また、ねじりたくないのに、ねじれちゃったりすることがあります。<BR>
そんなときに、ツイスト機能を使ってください。<BR>
スピンコントロールをクリックするだけで、ねじることが出来ます。<BR>
首の部分などのモーション付けで役立ちます。<BR>
<BR>
<BR>
指定ジョイントのリセット<BR>
選択しているジョイントの回転、移動をリセットできます。<BR>
ジョイントは、親のジョイントの回転、移動を引き継ぐので、<BR>
親のジョイントを選択して、リセットを行わないと、効果が現れない場合があるので、<BR>
注意してください。<BR>
<BR>
<BR>
モーション設定<BR>
総フレーム数、モーションの種類などの設定を行います。<BR>
モーションの種類は、プレビュー時にも反映されます。<BR>
（繰り返すモードを選べば、プレビュー時にも繰り返し表示されます。）<BR>
<BR>
<BR>
フレーム単位操作<BR>
フレーム単位で、ポーズのコピー、ペースト、削除を行うことが出来ます。<BR>
ダイアログの下に位置している、スライダーで選択している、フレーム番号のポーズに対して、<BR>
処理を行います。<BR>
<BR>
<BR>
全削除<BR>
全てのフレーム番号のポーズを削除します。<BR>
<BR>
<BR>
プレビュー<BR>
作成したモーションの再生をします。<BR>
”モーション設定”で、繰り返しを選んだ場合は、<BR>
ストップボタンを押すまで、繰り返し、再生されます。<BR>
<BR>
アンドゥ操作は、<BR>
モーションダイアログではなくて、<BR>
メインウインドウの”編集”メニューの　”IK操作のUNDO”　で行います。<BR>
20回前まで、以前のポーズに戻すことが出来ます。<BR>
<BR>
<BR>
指定軸に対する回転　（ver 1.0.0.6以降）<BR>
スピンコントロールをクリックすることで、目的の軸に対する回転を行うことが出来ます。<BR>
各軸は、ローカル座標での軸です。<BR>
回転の角度は、１から１０度までの間で、指定できます。<BR>
<BR>
<BR>
ディスプレイスイッチの設定<BR>
１から１５までの、スイッチ番号の、オン、オフを設定できます。<BR>
詳しくは、<A href="rdb2_dispswitch.htm">ディスプレイスイッチの説明</A>をご覧ください。</P>
<P><BR>
</P>
<P><B><FONT size="+1">モーションの設定ダイアログ</FONT></B><BR>
<BR>
<BR>
<IMG src="jpegfiles/settingdlg.jpg" width="332" height="355" border="0"><BR>
<BR>
モーションダイアログの、”設定”ボタンを押して、呼び出します。<BR>
モーションの総フレーム数、繰り返しなどの指定、補間法の指定が出来ます。<BR>
<BR>
<BR>
</P>
<P><FONT size="+1"><B>オプションダイアログ</B></FONT><BR>
<BR>
<IMG src="jpegfiles/optiondlg.jpg" width="499" height="262" border="0"><BR>
<BR>メインウインドウの｢オプション｣メニューでは、”ジョイントの表示/非表示”、”ポリゴンの表示”、”地面の表示”を設定できます。<BR>
<BR>　”ジョイントの表示/非表示”では、丸印で表示されているジョイントの表示、非表示を設定できます。<BR>
<U>連番BMP出力時などは、非表示</U>にしてください。<BR>
<BR>　”ポリゴンの表示”では、常に全てのポリゴンを表示するモードと、階層構造エディタで選択したポリゴンだけ表示するモードを切り替えられます。<BR>各パーツのパラメータをsig 
paramsダイアログで設定するときなどは、選択したポリゴンだけ表示するモードにした方が、便利です。<BR>
<BR>　”地面の表示”では、格子状の地面の表示、非表示を切り替えられます。<BR>
<BR>
</P>
<P><FONT size="+1"><B>平行光源の向き設定ダイアログ</B></FONT><BR>
<BR>
<IMG src="jpegfiles/lightdlg.jpg" width="352" height="274" border="0"><BR>
<BR>
<BR>
RokDeBoneでは、色の計算に、白色の平行光源を一つだけ使っています。<BR>
この平行光源の向きは、メインウインドウの｢平行光源設定｣メニューで設定できます。<BR>
Z軸との角度と、Y軸との角度をそれぞれ、スライダーで設定してください。<BR>
”向きベクトル”の欄に、指定した向きの単位ベクトルが表示されます。<BR>
<BR>
<BR>
</P>
<P><B><FONT size="+1">背景指定ダイアログ</FONT></B><BR>
<BR>
<IMG src="jpegfiles/backgdlg.jpg" width="372" height="433" border="0"><BR>
<BR>
メインウインドウの｢背景指定｣メニューで、背景の設定が出来ます。<BR>
<BR>
　まず、背景を貼り付けるポリゴンの<B>頂点色</B>を指定します。指定した色がテクスチャーとモジュレートされます。<BR>
<U>テクスチャを指定する場合は、通常、白を指定します。</U><BR>デフォルトでは、テクスチャを貼り付けないため、青に設定されています。<BR>
<BR>　テクスチャは、2枚まで指定できます。1枚目は、通常の背景に、2枚目は雲などに使ってください。<BR>”U方向アニメ移動量”、”V方向アニメ移動量”に、数値を設定すると、描画ごとに、テクスチャ座標を変化させることが出来ます。<BR>
<BR>
<BR>
</P>
<P><BR>
<BR>
<BR>
</P>
<P><A href="rokdebone.htm">RokDeBone2のトップページに戻る</A></P>
<P><BR>
<BR>
</P>
</BODY>
</HTML>
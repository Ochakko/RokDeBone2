<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 11.0.0.0 for Windows">
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE></TITLE>
</HEAD>
<BODY>
<P><FONT size="+2">BVH出力機能について</FONT><BR>
<BR>
RokDeBone2 ver4.0.2.4からBVH出力機能が付きました。<BR>
Fileメニューの「BVH書き出し」を選択して出力します。<BR>
<BR>
この際、いくつか注意点があるので書きます。<BR>
<BR>
まずBVHとRokDeBone2とでは、ボーンの姿勢情報を格納する場所が異なります。<BR>
BVHではボーンの親に姿勢を格納しますが、RokDeBone2は子供に格納します。<BR>
<BR>
そのため出力時には子供の情報を親の場所に出力する形で対応しています。<BR>
この方法には問題点があります。<BR>
ひとつの親から複数の子供が枝分かれしている場合、子供全部の情報を出力する場所がなくなってしまうという点です。<BR>
<BR>
この問題に対処するためにRokDeBone2では、子供が複数ある場合には、子供の数だけ新規に親を生成して<BR>
そこに情報を出力することにしました。<BR>
元の親と新規の親は同一座標とします。<BR>
<BR>
このため複数子供がある場合には、自動的に「ParentOf子供の名前」のような形式のジョイントが出力されます。<BR>
気をつけていただきたいのはこの自動生成された親を含むBVHを読み込み、また出力するとさらに自動生成の親が追加されることになり<BR>
どんどん同一座標にジョイントが増えてしまいます。<BR>
<BR>
これを避けるためにはquaでファイルの保存を行っておき、必要な時だけ１回BVH出力をするという方法を取ってください。<BR>
<BR>
あとは<BR>
ボーンの移動情報はルートのジョイントにしか出力されない点にも注意してください。<BR>
<BR>
もう１点、<BR>
BVHでは一番親のボーンは１つだけです。<BR>
親のないジョイントが複数ある場合には、そのうち１個のツリーだけしか出力されません。<BR>
<BR>
<BR>
<A href="rokdebone.htm">RokDeBone2のトップページに戻る</A><BR>
<BR>
</P>
</BODY>
</HTML>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 11.0.0.0 for Windows">
<META http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE></TITLE>
</HEAD>
<BODY>
<P><FONT size="+2"><B>音付きアニメの作り方</B></FONT><BR>
<BR>
ver5.3.0.0から音付きアニメをサポートしました。<BR>
<BR>
音アニメ用に２つのファイルの種類が追加されました。<BR>
音セットファイル（*.ssf）と音アニメファイル(*.saf)です。<BR>
<BR>
音セットファイルには音アニメで使用する音データを定義します。<BR>
音アニメファイルにはどのタイミングで効果音を鳴らすかを定義します。<BR>
音アニメで使用する音は全てあらかじめ音セットファイルで定義されていないといけません。<BR>
<BR>
それではまずは音セットを作る方法を説明します。<BR>
音セットは図１の音セットメニューからダイアログを開いて設定します。<BR>
<BR>
<IMG src="jpegfiles/rdb2_ssmenu.png" width="760" height="98" border="0"><BR>
図１：音セットメニュー<BR>
<BR>
<BR>
音セットダイアログを図２に示します。<BR>
<BR>
<IMG src="jpegfiles/rdb2_ssdlg.png" width="681" height="393" border="0"><BR>
図２：音セットダイアログ<BR>
<BR>
音セットを定義するには設定順序があります。<BR>
ダイアログの（１）音セット名、（２）ディレクトリ、（３）BGM、（４）効果音の順番で設定していかないとうまくいきません。<BR>
<BR>
<B>（１）音セット名</B><BR>
まず音セット名を決めます。エディットボックスに音セット名をタイプしたら「加」ボタンを押します。<BR>
するとリストボックスに作成された音セットの名前が表示されます。<BR>
<BR>
<B>（２）ディレクトリ</B><BR>
次にディレクトリを決めます。<BR>
wavやoggの入っているディレクトリの指定です。<BR>
ディレクトリは音セットごとに決めるものです。<BR>
１つの音セットに複数のディレクトリを定義することは出来ません。<BR>
<BR>
このディレクトリはRokDeBone2.exeがあるディレクトリからの相対パスで指定します。<BR>
深い階層を使う場合はディレクトリの区切りに「\」を使ってください。<BR>
親のディレクトリへのパスは「..\」が使えます。<BR>
ただし「..\」はパスの先頭に１回だけしか使えません。<BR>
つまり「..\SoundTest」は認められますが「..\..\SoundTest」は認められません。<BR>
<BR>
記述したら忘れずに「適用」ボタンを押してください。<BR>
押さないと次の設定に進めません。<BR>
<BR>
<B>（３）BGM</B><BR>
次にBGMを１つだけ選びます。<BR>
コンボボックスの候補からwavかoggを１つ選びます。<BR>
選択したら「適用」ボタンを押します。<BR>
<BR>
<B>（４）効果音</B><BR>
BGMの適用ボタンを押すと効果音コンボボックスに<BR>
効果音の候補ファイル名がセットされます。<BR>
効果音の候補は指定ディレクトリの中のwav, oggの中からBGMを除いたファイルになります。<BR>
使用したい効果音をコンボボックスで選んで<BR>
リバーブとbufnumを指定してから「加」ボタンを押します。<BR>
bufnumとは同じ音を同時に何個まで再生できるかを指定します。<BR>
つまり音が鳴り止まないうちに同じ音を新たに鳴らしたいときに１以上の値を設定します。<BR>
同じ音を重ねて再生する必要が無い場合は１を指定します。<BR>
<BR>
<BR>
設定が済んだらssfファイルに保存します。<BR>
ファイルメニューから保存できます。<BR>
<BR>
<BR>
<BR>
<BR>
音アニメの設定はモーションタブの「SND」タブで行います。<BR>
図３にSNDタブを示します。<BR>
<BR>
<IMG src="jpegfiles/rdb2_sndkeydlg.png" width="714" height="199" border="0"><BR>
図３：SNDタブ<BR>
<BR>
<BR>
SNDタブは形状データを読み込み済みで音セットも設定済みでないと表示できません。<BR>
<BR>
まずは音セットを選びます。<BR>
途中で音セットを変えるとキーが削除されるので注意してください。<BR>
<BR>
次にアニメのfpsを決めます。<BR>
fpsとは１秒間に何フレームアニメを表示するかという指定です。<BR>
<BR>
図４の同期ダイアログメニューを選択して図５の同期ダイアログを出します。<BR>
<BR>
<IMG src="jpegfiles/rdb2_syncmenu.png" width="700" height="179" border="0"><BR>
図４：同期ダイアログメニュー<BR>
<BR>
<BR>
<IMG src="jpegfiles/rdb2_syncdlg.png" width="202" height="225" border="0"><BR>
図５：同期ダイアログ<BR>
<BR>
図５の同期ダイアログでｆｐｓを選びます。<BR>
ｆｐｓを選ぶとSNDタブのモーションの総フレーム数が変化します。<BR>
総フレーム数は指定した音セットのBGMの長さと同じになります。<BR>
この長さは自由には編集できません。<BR>
<BR>
タイムスライダーを動かし、効果音を選び、「加」ボタンを押すとキーが作成されます。<BR>
このようにして効果音をどのタイミングで鳴らすかを設定します。<BR>
<BR>
設定が終わったらsafファイルに保存します。<BR>
ファイルメニューから保存します。<BR>
<BR>
<BR>
<B>プレビュー</B><BR>
プレビューは「設定」ボタンを押したときに出るダイアログの「表示開始フレーム番号」から「表示終了フレーム番号」の間で行われます。<BR>
表示開始を０以外にすれば途中から再生することも出来ます。<BR>
<BR>
この表示開始と終了はモーション、カメラ、GPA、MOE、SNDそれぞれで独立しているため<BR>
アニメ全体を途中から再生したいときはそれぞれのタブで「設定」ボタンを押し、全ての開始と終了を設定しないといけません。<BR>
<BR>
<BR>
<B>ワンポイント</B><BR>
将来的にはプロジェクトファイルを作って各種ファイルをいっぺんに読み込めるようにする予定ですが<BR>
現状ではたくさんの種類のファイルをいちいち読み込まなければいけません。<BR>
この際に読み込み順番を間違えるとうまくいかないので注意です。<BR>
作者は<BR>
sig, quaまたはmoa, 背景sig, cam, gpa, moe, ssf, safの順で読み込んでいます。<BR>
<BR>
また注意したいのはcamを読んだだけでは初期状態でカメラが編集モードになっていて<BR>
カメラアニメが再生されません。<BR>
カメラタブを表示してカメラの種類の「替」ボタンを押す必要があるのを忘れないでください。<BR>
<BR>
<BR>
//////////////<BR>
<FONT color="#ff0000">2010/07/06 追記</FONT><BR>
<BR>
ver5.3.0.6から音ディレクトリの仕様が変わりました。<BR>
ssfファイルを読み込んだ際には音データはssfファイルの場所からの相対ディレクトリを探します。<BR>
ssfファイルを読み込んでいないときには今までどおり、RokDeBone2.exeからの相対ディレクトリを探します。<BR>
<BR>
<BR>
同期の補足<BR>
SNDタブではBGMと効果音の同期設定をしますが<BR>
CAMERA, GPA, MOEなどの設定をしてプレビューすると<BR>
音とモーション、カメラとの同期が出来ます。<BR>
同期はBGMの再生位置にあわせて行われます。<BR>
<BR>
同期設定の際のキーのタイミングは<BR>
同期ダイアログ（図６）に拍、秒、フレームいずれかを記述して適用ボタンを押した後ジャンプボタンを押すと<BR>
表示中のモーションタブのフレーム番号が指定位置に動きます。<BR>
<BR>
<BR>
<BR>
<A href="index.htm">トップページに戻る</A><BR>
</P>
</BODY>
</HTML>
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=SHIFT_JIS">
<META name="GENERATOR" content="IBM WebSphere Studio Homepage Builder Version 9.0.0.0 for Windows">
<META http-equiv="Content-Style-Type" content="text/css">
<TITLE></TITLE>
</HEAD>
<BODY>
<P><B><FONT size="+2">RokDeBone2の新機能</FONT></B></P>
<P><B>IKの実装</B><BR>
RokDeBoneは、数値入力により、モーションを作成しましたが、<BR>
RokDeBone2は、IKを実装することにより、より簡単にモーションが作れるようになりました。<BR>
<BR>
<B>IKの影響する階層数の指定</B><BR>
IK操作時に、影響するボーンの階層数を指定できます。<BR>
例えば、指先のボーンをドラッグする場合、<BR>
大きな階層数を指定しておくと、指、手、肩などが連動して動きます。<BR>
逆に、１などの小さな階層数を指定すると、指だけが動きます。<BR>
（モーションダイアログで設定します。）<BR>
<BR>
<B>セレクトロック</B><BR>
ボーンが混み合っているモデルの場合、<BR>
動かしたいボーンをマウスでつまむのに、苦労することがあります。<BR>
そんな場合、セレクトロックを使えば、簡単に、動かしたいボーンを選択できます。<BR>
TreeViewで、目的のボーンを選び、セレクトロックボタンを押すだけで、OKです。<BR>
（モーションダイアログで行います。）<BR>
<BR>
<B>ねじりたいとき</B><BR>
マウスによるドラッグでは、<BR>
ボーンのベクトルを軸として、ねじろうとしても、なかなか出来ません。<BR>
また、ねじりたくないのに、ねじれちゃったりすることがあります。<BR>
<BR>
そんなときに、ツイスト機能を使ってください。<BR>
スピンコントロールをクリックするだけで、ねじることが出来ます。<BR>
首の部分などのモーション付けで役立ちます。<BR>
（この操作も、モーションダイアログで行います。）<BR>
<BR>
<BR>
<B>IKのアンドゥ</B><BR>
マウスのドラッグでのポーズ付けに失敗したら、<BR>
メインウインドウの”編集”メニューの”IK操作のUNDO”を選んでください。<BR>
２０回前まで、以前のポーズに戻すことが出来ます。<BR>
<BR>
<B>入力データ</B><BR>
六角大王だけでなく、メタセコイアのmqoファイルを、直に読み込むことが出来るようになりました。(ver
1.0.0.3)<BR>
<BR>
<B>指定軸に対する回転</B><BR>
IKだけでは、細かい部分など、操作しにくい場所があるようなので、<BR>
ダイアログ上で、指定軸に対する回転を、出来るようにしました。（ver 1.0.0.6）<BR>
<BR>
<B>スプライン補間</B><BR>
スプライン補間（ver1.0.0.8以降）と、球面線形補間の２種類用意しました。<BR>
モーションダイアログの、”設定”ボタンを押すと、補間法を指定するダイアログが現れます。<BR>
<BR>
ver1.0.1.3からは、平行移動成分も、曲線補間に対応しました（エルミートスプライン補間）<BR>
<BR>
スプライン補間は、大きな角度の補間には、向いていないようです。<BR>
いろいろ試してみましたが、９０度くらいが、限界のようです。<BR>
<U>大きな角度を動かすときは、フレームを小分け</U>にして、使用してください。<BR>
<BR>
<BR>
<BR>
<IMG src="jpegfiles/motdlg_ver1010.jpg" width="967" height="255" border="0"><BR>
<BR>
(IK用の、新しいモーションダイアログの図)<BR>
<BR>
<BR>
<B>関節の曲げ方</B><BR>
関節の曲げ方は、通常のスキニング有りの方法と、<BR>
ロボットのように、カクカクと曲げる方法の２種類から、選べます。（ver1.0.0.9以降）<BR>詳しくは、<A href="rdb2_noskinning.htm">スキニング無しで、関節を曲げる方法</A>をご覧ください。<BR>
<BR>
<BR>
<B>ディスプレイスイッチ</B><BR>
キーフレームごとに、パーツの表示、非表示をコントロールする機能です。（ver1.0.1.0以降）<BR>
詳しくは、<A href="rdb2_dispswitch.htm">ディスプレースイッチの説明</A>をご覧ください。<BR>
<BR>
<BR>
<B>リバースUNDO</B><BR>
ＵＮＤＯとは、逆方向に、リングバッファをたどる、リバースUNDOが付きました。（ver1.0.1.3以降）<BR>
メインウインドウの編集メニュー、あるいは、Ctrl＋Xキーで、操作できます。<BR>
<BR>
<BR>
<B>テクスチャーの、ぱらぱらアニメ</B><BR>
複数のテクスチャーを、パーツに指定し、フレームごとに変化させる機能が付きました。（ver1.0.1.4）<BR>
詳しくは、<A href="rdb2_texsetting.htm">テクスチャーのぱらぱらアニメの設定</A>をご覧ください。<BR>
<BR>
<BR>
<B>ボーン情報のテキスト入出力　（ver1.0.1.8）</B><BR>
形状データや、ボーン構造などを変更するたびに、<BR>
最初から設定をやりなおなさければならない問題を解消するために、<BR>
ボーン情報の入出力機能をつけました。<BR>
詳しくは、<A href="rdb2_bonefile.htm">ボーンファイルのテキスト入出力</A>をご覧ください。<BR>
<BR>
<BR>
<BR>
<B>任意のボーンツリーの姿勢情報のみを、コピーできるようになりました。（ver1.0.1.9）</B><BR>
モーションダイアログの、フレームコピーボタンを押すと、<BR>
ボーンツリーの指定ダイアログが出てきます。（下図）<BR>
<IMG src="jpegfiles/framecopydlg.jpg" width="611" height="498" border="0"><BR>
<BR>
コピーしたいツリーと、コピーしたくないツリーを選択できるようにしました。<BR>
例えば、上の図の例ですと、<BR>
腰より下のボーンツリーの内、右肩以下のボーンツリーを除いたツリーが、コピーされます。<BR>
<BR>
<BR>
<BR>
<B>モーションの軸対称ペースト機能を追加（ver1.0.2.0）</B><BR>
左右対称のモーションの作成などに、役に立つように、<BR>
任意の軸に対して、対称になるように、姿勢情報をペーストする機能が付きました。<BR>
詳しくは、<A href="rdb2_symm.htm">軸対称ペーストの説明ページ</A>をご覧ください。<BR>
<BR>
<BR>
<BR>
<B>透過、半透明テクスチャを貼れるようになりました(ver1.0.2.2）</B><BR>
テクスチャーの黒色透過、<BR>
アルファ値による半透明処理が可能になりました。<BR>
下の図が、新しい、テクスチャ設定ダイアログです。<BR>
<BR>
<IMG src="jpegfiles/texsettingdlg031128.jpg" width="458" height="779" border="0"><BR>
<BR>
透過設定のラジオボタンで、<BR>
3種類の表示方法を選ぶことが出来ます。<BR>
<BR>
また、Sig Params ダイアログで、頂点のアルファ値を設定して、<BR>
これと、組み合わせることも、可能です。<BR>
<BR>
<BR>
<BR>
<B>iniファイルの導入(ver1.0.2.8)</B><BR>
ウインドウの位置や、背景、オプションなど、前回終了時の設定を、次回起動時に再現できるようになりました。<BR>
ファイルの名前は、rdb2.ini　です。<BR>
rdb2.iniファイルが存在しない場合や、不正な値を手動で書き込んだ場合などは、デフォルトの値を適用するようになっています。<BR>
<BR>
<BR>
<B>AVI出力機能の追加（ver1.0.2.9）</B><BR>
&quot;file&quot;メニューの中の&quot;ＡＶＩ出力&quot;メニューから、ボーンアニメーションを*.aviのファイルに出力することが出来ます。<BR>
メインウインドウと同じ大きさの動画が、記録できます。<BR>
圧縮タイプも選ぶことが出来ます。<BR>
（環境によっては、うまくいかない圧縮タイプもあるようなので、色々試してみてください。）<BR>
<BR>
<BR>
ver1.0.3.3からは、<B>ボーン影響マップファイルのテキスト（拡張子bim）</B>入出力が出来ます。<BR>
影響マップファイルには、頂点がどのボーンの影響を受けるか、また、どのような計算方法で変形させるか、<BR>
を保存することが出来ます。<BR>
影響マップファイルの仕様については、<A href="rdb2_bim.htm">ボーン影響マップファイルの仕様</A>をご覧ください。<BR>
メインウインドウの”file”メニューから保存できます。<BR>
<BR>
<BR>
ver1.0.3.4からは、　<B>Ｆ１，Ｆ２，Ｆ３，Ｆ４キーによる、視点の移動</B>が出来ます。<BR>
　　Ｆ１キーで、Ｙ軸回転します。９０度単位で、左回りします。<BR>
　　Ｆ２キーで、Ｙ軸回転します。９０度単位で、右回りします。<BR>
　　Ｆ３キーで、仰ぎ角度が回転します。９０度単位で上方向に回ります。真上でクランプします。<BR>
　　Ｆ４キーで、仰ぎ角度が回転します。９０度単位で下方向に回ります。真下でクランプします。<BR>
<BR>
　　（Ｆ１〜Ｆ４キーの反応は、少し、鈍くしてあります。押してから、ちょっと待ってください。）<BR>
<BR>
<BR>
ver1.0.3.9から、マウスドラッグによる、カメラの操作ができます。<BR>
　　　　左ボタンドラッグで、カメラを回転します。<BR>
　　　　右ボタンドラッグで、カメラを移動します。<BR>
　　　　左右ボタンドラッグで、カメラのズームインアウトをします。<BR>
<BR>
<BR>
ver1.0.4.0での更新内容<BR>
　　　　射影の設定が可能になりました。<BR>
　　　　　　メインウインドウのメニューに、「パースペクティブ」を追加。<BR>
　　　　　　　　パースペクティブ射影と、正射影が選べます。<BR>
　　　　　　　　パースペクティブの視野角が設定できます。<BR>
　　　　　　　　正射影のビューの大きさが設定できます。<BR>
　　　　　　　　　　マウスの左右ドラッグで、ビューポートの大きさ変更可能<BR>
		<BR>
　　　　地面データの表示が乱れにくくなりました。<BR>
　　　　　　地面データを、ground.mqoに変更。<BR>
<BR>
　　　　ジョイントのスプライトデータの変更<BR>
　　　　　　bonemark1.ddsに変更。<BR>
<BR>
　　　　ジョイントマークの表示設定が可能になりました。<BR>
　　　　　　オプションダイアログで、ジョイントマークの大きさ、透明度の設定が可能。<BR>
　　　　　　iniファイルにも反映されます。<BR>
<BR>
　　　　ＵＮＤＯ確認ダイアログの必要の有無を、オプションダイアログに追加<BR>
　　　　　　iniファイルにも反映されます。<BR>
<BR>
　　　　ＦＰＳをステータスバーに表示。<BR>
<BR>
　　　　選択しているジョイントのグローバル座標を、ステータスバーに表示。<BR>
<BR>
　　　　デバイス情報は、Shift + Dキーで表示します。<BR>
　　　　　　デフォルトでは、非表示になりました。<BR>
<BR>
　　　　ジョイントの表示、非表示が簡単に出来るようになりました。<BR>
　　　　　　Ctrl + J キーで、表示、非表示をトグル。<BR>
　　　　　　モーションダイアログの、「joint表示トグル」ボタンで、表示、非表示をトグル。<BR>
　　　　　　iniファイルにも反映されます。<BR>
<BR>
<BR>
ver1.0.4.1での変更点<BR>
　　　　ＩＫ操作の回転軸を選べるようになりました。<BR>
<BR>
<BR>
<IMG src="jpegfiles/rdb2_motaxis.jpg" width="989" height="257" border="0"><BR>
<BR>
　　　　　　ダイアログの「ＩＫ軸の設定方法」のところで、視線に平行な軸、自分で設定した軸、オートモード軸の３タイプから選べます。<BR>
　　　　　　自分で設定するモードを選んだ場合には、右のスライダーで、軸の向きを自由に設定できます。<BR>
　　　　　　設定した向きは、画面左の、３Ｄ子ウインドウで、確認することが出来ます。<BR>
<BR>
<BR>
　　　　地面データの表示変更。<BR>
<BR>
<BR>
ver1.0.4.2での変更点。<BR>
　　　　数値入力によるＩＫ機能が付きました。<BR>
　　　　　　ＩＫ軸、階層数、計算の細かさを設定し、目標座標を入力すると、その座標に近づくように、ＩＫします。<BR>
<BR>
<IMG src="jpegfiles/rdb2_vikdlg.jpg" width="988" height="260" border="0"><BR>
<BR>
　　　　　　目標座標値と、移動の細かさに入力し、ＩＫ開始ボタンを押すと、計算が始まります。<BR>
　　　　　　階層数は基本操作タブで、ＩＫ軸はＩＫ軸タブで、あらかじめ、設定しておいてください。<BR>
　　　　　　数値ＩＫ中は、メインウインドウに、”under IK calculation !!!”と点滅表示されます。<BR>
　　　　　　計算を止めるには、ＩＫ停止ボタンを押してください。<BR>
　　　　　　ＩＫ停止後、Undo（Ctrl+Zキー）することも出来ます。<BR>
　　　　　　数値ＩＫ中は、マウスドラッグによるＩＫは、出来ません。<BR>
<BR>
<BR>
ver1.0.4.3での変更点<BR>
　　　　任意のジョイントで、ＩＫの伝達を中止できるようになりました。<BR>
　　　　　　sig paramsダイアログで、「ＩＫの伝達を禁止する」にチェックすると、ＩＫ操作による影響を受けなくなります。<BR>
　　　　　　ジョイントのみに設定可能です。<BR>
　　　　　　sigファイルに保存されます。<BR>
　　　　　　メインウインドウに、IK伝達禁止ジョイントは、四角のマークで表示されます。<BR>
<BR>
　　　　　　　<IMG src="jpegfiles/rdb2_notransik.jpg" width="398" height="607" border="0"><BR>
　　　　　　階層構造エディタで、「表示パラメータ設定」メニューを選択すると、上のダイアログが出ます。<BR>
<BR>
<BR>
<BR>
　　　　マウスのドラッグ中に、マウスがメインウインドウの外に出ても、処理が継続するように修正しました。<BR>
<BR>
<BR>
ver1.0.4.4での変更点。<BR>
　　　　<BR>
　　　　選択ジョイント位置に、マニピュレータを表示するようにしました。<BR>
　　　　　　　　　　<IMG src="jpegfiles/rdb2_select.jpg" width="345" height="290" border="0"><BR>
<BR>
　　　　　　黄色をドラッグすると通常のＩＫ、赤、青、緑をドラッグすると、各軸の回転をします。<BR>
<BR>
<BR>
　　　　ＩＫ伝達禁止ジョイントの振る舞いの修正。<BR>
　　　　　　ＩＫ伝達禁止に設定しても、直接選択して、ドラッグした場合には、ＩＫ出来るようにしました。<BR>
<BR>
　　　　地面の表示を再変更<BR>
　　　　　　ポリゴンの地面を止めて、ラインにしました。（stさん作のground2.mqo）<BR>
<BR>
　　　　右ドラッグで、ジョイントを移動した後に、Undoが効かなくなっていたバグを修正。<BR>
<BR>
<BR>
ver1.0.4.5での変更点<BR>
<BR>
　　　　ボーンの階層構造が分かるように、線データを表示しました。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_bonemark.jpg" width="344" height="423" border="0"><BR>
<BR>
　　　　　　ボーンが密な部分では、かえって邪魔になるので、オプションダイアログで、非表示にすることも可能です。<BR>
　　　　　　オプションダイアログの設定は、iniファイルにも反映されます。<BR>
<BR>
<BR>
　　　　Sleepする時間を短くしました。<BR>
　　　　　　文字の入力などがスムーズになるように、多めにSleepしていたのですが、ちょっと遅すぎたので、少し減らしてみました。<BR>
　　　　　　環境や表示ポリゴン数によりますが、最大６０ＦＰＳで描画します。<BR>
　　　　　　ＩＫ中は、１０ＦＰＳを上限に設定しています。<BR>
　　　　　　以前よりＦＰＳは上がりますが、ＣＰＵ使用率も上昇しました。<BR>
　　　　　　<BR>
<BR>
<BR>
ver1.0.4.6での変更点<BR>
<BR>
　　　　フレームコピー、フレームペーストを、名前によるクリップボード経由の形式に変更しました。<BR>
　　　　　　クリップボード経由なので、複数のRokDeBone2を起動して、RokDeBone2同士で、コピーペーストすることが出来ます。<BR>
<BR>
　　　　　　姿勢情報は、ジョイントの名前を基準に判定するようにしたので、<BR>
　　　　　　階層構造を変更する前と、後のデータ間で、コピーペーストすることも可能です。<BR>
　　　　　　（階層構造が大きく異なるデータ同士のコピーペーストでは、正しい姿勢が保たれることは、保証されません。）<BR>
　　　　　　存在しない名前は、エラーにならず（不正データ以外）、単に無視されます。<BR>
<BR>
<BR>
<BR>
ver1.0.4.7での変更点<BR>
<BR>
　　　　ＩＫ時に不要な計算を、大幅ダイエットしました。<BR>
　　　　　　IK時のＦＰＳは、デフォルト時で、<FONT color="#cc00cc">約4倍速</FONT>になりました。<BR>
　　　　　　（ＩＫ自体の計算量は、同じです。）<BR>
<BR>
<BR>
　　　　同期の仕方を変更<BR>
　　　　　　プレビュー時以外のSleepの仕方を精度が悪いけどＣＰＵ負荷の低い方法に変えました。<BR>
　　　　　　FPSは一定になりませんが、描画時間を見て、適当にSleepします。<BR>
　　　　　　（目標ＦＰＳに達しない場合もSleepします。）<BR>
　　　　　　モーションプレビュー時は、ＣＰＵを１００％使いますが、６０ＦＰＳで一定になります。<BR>
　　　　　　（環境や、表示ポリゴン数により、６０ＦＰＳ出ない場合もあります。）<BR>
<BR>
ver1.0.4.8での変更点<BR>
　　　　<BR>
　　　　IK前に、背面（視線に対して）だったポリゴンが、ＩＫ中に表示されていなかったのを修正。<BR>
<BR>
<BR>
<BR>
ver1.0.5.0での変更点<BR>
　　　　ＩＫスキップを実装しました。<BR>
　　　　　　ＩＫとＦＫの混合で操作できます。<BR>
<BR>
　　　　　　ジョイントに、ＩＫスキップ（ＦＫ１００％）の印を付けると、<BR>
　　　　　　そのジョイントは、IKによる角度の変化を受けずに、ＦＫのみで回転します。<BR>
<BR>
　　　　　　例えば、ひじにＩＫスキップを設定すると、<BR>
　　　　　　指先を左ドラッグすることで、ひじの角度を保ったまま、腕全体をＩＫ操作することが出来ます。<BR>
<BR>
　　　　階層構造エディタで、「表示パラメータ設定」メニューを選択すると、下のダイアログが出ます。<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_ikskipdlg.jpg" width="399" height="669" border="0"><BR>
<BR>
　　　　　　上のダイアログで、ＩＫスキップにチェックしてください。<BR>
　　　　　　上の図は、ひじにＩＫスキップを設定したところです。<BR>
<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_ikskip01.jpg" width="563" height="420" border="0"><BR>
<BR>
　　　　　　すると上の図のように、ひじの角度を保ったまま、腕全体をＩＫ操作することが出来ます。<BR>
<BR>
<BR>
ver1.0.5.1での変更点<BR>
　　　　ツールバーのボタンで、「回転」「移動」「拡大縮小」のモードを選べるようになりました。<BR>
　　　　　　全て、左ドラッグです。（<FONT color="#ff00ff">移動も左ドラッグに変更になりました。</FONT>）<BR>
<BR>
　　　　拡大縮小機能の追加<BR>
　　　　　　拡大縮小のボーンアニメが作れるようになりました。<BR>
<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_scale.jpg" width="509" height="509" border="0">　<BR>
<BR>
<BR>
ver1.0.5.3での変更点<BR>
<BR>
　　　　ＭＦＣとのリンクを止めました。<BR>
<BR>
　　　　カラーダイアログの修正<BR>
　　　　　　カラーダイアログで作成した色を、iniファイルに保存するようにしました。<BR>
<BR>
　　　　Easy3Dで設定した、パーツ毎のユーザーデータに対応。<BR>
<BR>
　　　　右クリックメニューの実装<BR>
　　　　　　メインウインドウで、ジョイントを右クリックしたときに、メニューが出るようにしました。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_rmenu.jpg" width="613" height="509" border="0"><BR>
<BR>
<BR>
　　　　ＩＫ階層数の設定の修正<BR>
　　　　　　操作毎に設定するモードと、ジョイント毎に設定するモードの２種類作りました。<BR>
　　　　　　ジョイント毎の設定は、sigファイルに保存されます。<BR>
　　　　　　右クリックメニューで、設定可能です。<BR>
<BR>
　　　　ショートカットキーの追加<BR>
　　　　　　<A href="rdb2_shortcut.htm">ショートカットキー一覧表</A><BR>
<BR>
　　　　カメラ位置の保存と復元<BR>
　　　　　　Shift+F5 〜 F8キーで、現在のカメラ位置を、F5〜F8キーへ保存します。(iniファイルに保存します)<BR>
　　　　　　F5〜F8キーを押すと、ワンタッチで、カメラ位置を復元できます。<BR>
<BR>
　　　　ボーンマーク（線）の表示設定<BR>
　　　　　　ボーンマークの表示を、ボーン毎に設定できるようにしました。<BR>
　　　　　　選択時の色と、非選択時の色を指定できるようにしました。（iniファイルに保存されます）<BR>
　　　　　　右クリックメニューで、設定可能です。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_bonelinedisp.jpg" width="379" height="347" border="0"><BR>
<BR>
<BR>
<BR>
<B>ver1.0.5.4での変更点</B><BR>
　　　　ショートカットの追加<BR>
　　　　　　Pauseキーで、プレビューの開始とストップ<BR>
<BR>
　　　　パーツを束ねる役割をしている、非表示オブジェクトに対し、テクスチャーの設定をすると、エラーになるバグを修正<BR>
　　　　　　非表示パーツには、テクスチャーや、色を設定できないようにしました。<BR>
<BR>
　　　　テクスチャ読み込みダイアログを、少し、修正<BR>
　　　　　　bmp読み込み画面しか出てこなかった点を修正。<BR>
　　　　　　*.*を追加。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.5.5での変更点</B><BR>
　　　　連番ＭＱＯ出力機能を追加。<BR>
　　　　　　　ボーン変形を考慮した、形状データを、メタセコイアのファイルとして、出力します。<BR>
　　　　　　　キーフレームのみと、全フレームとが、選べます。<BR>
　　　　　　　六角大王rokファイルから作ったsigからでも、出力できます。<BR>
　　　　　　　出力倍率も、指定できます。<BR>
　　　　　　　ボーンデータは出力されません。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.5.6での変更点</B><BR>
<BR>
　　　　ツリー移動モードを新設。<BR>
<BR>
　　　　　　Ｔ２ツールボタンを押して、ジョイントを左ドラッグすることで、<BR>
　　　　　　ジョイントの親を、一番上までさかのぼって、移動量を設定し、ボーンツリー全体を移動させます。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_t2.jpg" width="176" height="141" border="0"><BR>
<BR>
　　　　　　全てのボーンの親となるような、ジョイントを、あらかじめ、作っておけば、<BR>
　　　　　　手の先のジョイントを、ドラッグすることで、モデル全体を、好きな場所に、移動させることが出来ます。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.5.7での変更点</B><BR>
<BR>
　　　　ＢＶＨファイルの読み込み機能の追加<BR>
　　　　　　読み込み方、ボーンの入れ方については、<A href="rokdebone.htm">RokDeBone2のページ</A>の「ＢＶＨの読み込み方」をクリックしてください。<BR>
<BR>
　　　　連番ＭＱＯ出力に、ボーンの線データを出力するオプションを追加。<BR>
　　　　　　bon, im2（mqo用オプション指定）の入出力と合わせることで、<BR>
　　　　　　「データの保存 --&gt; メタセコでの調整 --&gt; データの復元」が、楽になります。<BR>
<BR>
　　　　im2出力に、mqo出力用とsig出力用の２種類のオプションを作りました。<BR>
　　　　　　連番ＭＱＯ出力のmqoに、対応しました。<BR>
　　　　　　<BR>
　　　　面、線表示の切り替え<BR>
　　　　　　フィルモードを、ソリッドと、ワイヤーフレームの２種類から選べます。<BR>
　　　　　　ツールバーのボタン（３角形の絵）で、選択してください。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_tb7.jpg" width="294" height="238" border="0"><BR>
<BR>
　　　　ジョイント初期位置調整機能の追加<BR>
　　　　　　ツールバーのＪボタンを押して、ジョイントを左ドラッグすると、初期位置を調整できます。<BR>
<BR>
　　　　編集メニューに、「ボーン影響度の再計算」を追加<BR>
　　　　　　<U>ジョイントの初期位置を調整が終わった後で、必ず、実行してください。</U><BR>
<BR>
　　　　編集メニューに、「現在のポーズを初期姿勢にする」を追加。<BR>
　　　　　　ボーンの影響度は保ったまま、データの初期姿勢を変更します。<BR>
　　　　　　ＢＶＨの読み込み時などに、使ってください。<BR>
<BR>
　　　　編集メニューに、「形状データを後ろ向きにする」を追加。<BR>
　　　　　　ＢＶＨの読み込み時などに、使ってください。<BR>
<BR>
　　　　編集メニューに、「形状、モーションデータ全削除」を追加。<BR>
　　　　　　ＢＶＨは、読み込み済の形状データに、インポートする形で、読み込まれます。<BR>
　　　　　　そのため、異なるＢＶＨを、連続して読み込みたい場合などは、読み込み済のデータを削除する必要があります。<BR>
　　　　　　この機能は、そのときのためのものです。<BR>
<BR>
　　　　RokDeBone2の説明ページに、「ＢＶＨの読み込み方」と、<FONT color="#800080"><A href="rdb2_im2mirror.htm">im2ファイルとメタセコイアの鏡面について</A></FONT>を追加。<BR>
　　　　　　メタセコイアの鏡面と、im2の両方を使う場合には、注意が必要です。必ず、お読みください。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.5.9での変更点</B><BR>
　　<BR>
　　　　ＩＫ開始時に、ジョイントをクリックしただけで、キャラクターの姿勢が変化してしまっていた現象を、解消しました。<BR>
　　　　　　今までは、ジョイントの中心を、正確にクリックしないと、姿勢が変化していたのを、修正。<BR>
<BR>
　　　　モーションダイアログの、各軸回転のスピンコントロールを押しても、モーションの補間がされなかったバグを、修正。<BR>
　　　　　　バグで、現在のフレームにしか、姿勢が反映されないようになっていました（ＩＫをすると直っていた）。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.6.1での変更点</B><BR>
<BR>
　　　　プレビュー時のＦＰＳを、オプションダイアログで、選択できるようにした。<BR>
　　　　　　iniファイルに保存されます。<BR>
<BR>
　　　　mqo読み込み時に、パーツ名に、”が付かないようにした。<BR>
<BR>
　　　　モーションダイアログに、前後の、キーフレームに移動することが出来るボタンを追加した。<BR>
　　　　　　　　　　<IMG src="jpegfiles/rdb2_keyframejump.jpg" width="287" height="207" border="0"><BR>
<BR>
<BR>
　　　　mqoファイルの、両面オブジェクトの表示が、黒ずまないようにした。<BR>
<BR>
　　　　　　　　　　<IMG src="jpegfiles/rdb2_twoside_bef.jpg" width="303" height="506" border="0">　　　　<IMG src="jpegfiles/rdb2_twoside_aft.jpg" width="304" height="505" border="0"><BR>
　　　　　　　　　　　　　　　　　　　　　（修正前）　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　（修正後）<BR>
<BR>
<BR>
<B>ver1.0.6.2での変更点</B><BR>
<BR>
　　　　mikoto用のmqoファイルの読み込み機能を追加しました。<BR>
<BR>
　　　　　　mqo読み込み時に、「mikoto形式のポリゴンのボーンデータを含む」を選択してください。<BR>
　　　　　　　　　　<IMG src="jpegfiles/rdb2_mqodlg.jpg" width="374" height="271" border="0"><BR>
<BR>
　　　　　　読み込み倍率は、５から８倍がいいと思います。<BR>
<BR>
　　　　　　従来のRokDeBone2での関節の曲がり方とは、少し、異なります。<BR>
　　　　　　今回のバージョンは、場所によっては、どぎつく曲がることがあるかと思います。<BR>
　　　　　　今後のバージョンで、修正、あるいは、mkiの読み込み機能を付けて、解決する予定です。<BR>
　　　　　　早急に対処したい場合には、支援ツールの<FONT size="+1"><B>Eye's Paintまたは、E3DVertexPaint</B></FONT>で、影響範囲の設定を調整してください。<BR>
<BR>
　　　　　　今のバージョンでは、メタセコイアの自己照明色に対応していないので、使用している場合には、色の調整をしてください。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.6.3での変更点</B><BR>
<BR>
　　　　mikoto用データの、関節の曲がり方を調整しました。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_miko_blend_befaft.jpg" width="399" height="305" border="0"><BR>
<BR>
<BR>
<B>ver1.0.6.5での変更点</B><BR>
　　　　<BR>
　　　　mikotoデータの読み込みに、新しいモードを作成。<BR>
　　　　　　アンカーが重なっているかどうかを見て、スキニングモードを、自動的にブレンドする読み込みモードを付けました。<BR>
<BR>
　　　　　　mqo読み込み時に、下のようなダイアログが出ます。<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_mikoblenddlg.jpg" width="432" height="176" border="0"><BR>
<BR>
　　　　　　<BR>
　　　　　　このモードにより、アンカーが重なっていない部分が変形しなくなりました。<BR>
　　　　　　<BR>
　　　　　　また、従来の読み込み方だと、アンカーが重なっていない部分で、<BR>
　　　　　　うまくボーンに頂点が付いてこないような状況がありましたが、改善されました。<BR>
　　　　　　　　<BR>
　　　　　　支援ツールE3D Vertex Paintに、新しいe3dhsp.dllを入れて、スキニングモードのブレンド具合を見ることが出来ます。<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_modeblend.jpg" width="374" height="341" border="0"><BR>
　　　　　　　　上の図で、赤色の部分が、アンカーが重なっている部分で、スキニングが有効になっている部分です。<BR>
　　　　　　　　青色の部分は、アンカーが重なっていない部分で、スキニングは無効となり、変形しません。<BR>
<BR>
<BR>
<BR>
　　　　mikotoデータ読み込み後に、スキニングモードのブレンド法を、変更出来る機能を付けました。<BR>
　　　　　　編集メニューの、「mikotoの関節変形方法の設定」で、変更できます。<BR>
<BR>
<BR>
　　　　スケール操作後に、カメラが、マウスで回転移動出来なくなるバグを修正<BR>
<BR>
<BR>
　　　　ジョイント位置調整モードから、他のモードに移るときに、影響度の再計算をするかどうかのダイアログを追加。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.6.6での変更点</B><BR>
<BR>
　　　　フレームペーストの不具合を修正<BR>
　　　　　　ボーンの名前に、表示オブジェクトと同じ名前が存在すると、フレームペーストがエラー終了する不具合を、修正。<BR>
<BR>
　　　　軸対称ペーストの、キーワードを追加。<BR>
　　　　　　mikotoデータを読み込んだ際に作成される、[L]_X+, [R]_X- も、軸対称キーワードとして、認識するようにしました。<BR>
<BR>
　　　　im2ファイルの読み込み、書き出しの修正。<BR>
　　　　　　表示用オブジェクトに、ボーンと同じ名前を使っても、入出力できるようにしました。<BR>
<BR>
　　　　モーションステップの設定機能を追加。<BR>
　　　　　　オプションダイアログで、モーションステップを設定できるようにしました。<BR>
　　　　　　指定したフレーム数単位で、モーションを再生します。<BR>
　　　　　　iniファイルに保存されます。<BR>
<BR>
　　　　sig, qua, im2ファイル書き出し時に、拡張子を指定しなくても、自動的に追加するように、修正しました。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.6.7での変更点</B><BR>
<BR>
　　　　光の色を、カラーダイアログで、設定できるようにしました。<BR>
　　　　　　「平行光源設定」メニューで操作できます。<BR>
　　　　　　光の色は、iniファイルに保存されます。<BR>
<BR>
　　　　読み込み済のファイル名を確認するダイアログの追加<BR>
　　　　　　「表示」--&gt;「読み込みファイル名確認」とメニューを、たどってください。<BR>
<BR>
　　　　im2ファイルの再読込の、ショートカットを追加。<BR>
　　　　　　Ctrl + B キーで、現在読み込んでいるim2ファイルを、再読込します。<BR>
　　　　　　「表示」--&gt;「読み込みファイル名確認」とメニューで、ファイル名が表示されていないときは、機能しません。<BR>
　　　　　　<BR>
　　　　　　影響範囲設定の支援ツールと、RokDeBone2を同時に起動し、<BR>
　　　　　　設定ツールで、im2ファイルを書き出した後に、Ctrl + Bすると、<BR>
　　　　　　瞬時に、im2ファイルの変更具合をRokDeBone2で、確かめることが、出来ます。<BR>
<BR>
<BR>
<B>ver1.0.6.8での変更点</B><BR>
<BR>
　　　　マニピュレータの変更<BR>
　　　　　　回転操作時には、3色の円を表示するようにしました。<BR>
　　　　　　回転操作時は、中央の黄色は、自由にドラッグ、<B><U>赤青緑の球は、左右にドラッグ</U></B>してください。<BR>
　　　　　　移動操作時は、中央の黄色は、自由にドラッグ、<B><U>赤青緑の球は、各軸方向にドラッグ</U></B>してください。<BR>
<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_za12.jpg" width="500" height="244" border="0"><BR>
<BR>
　　　　マニピュレータの座標系を切り替えられるようにしました。<BR>
　　　　　　ツールバーの「座１」ボタンで、ローカル座標系、「座２」ボタンで、グローバル座標系で、操作できます。<BR>
　　　　　　ただし、スケール操作は、常に、ローカル座標系です。<BR>
<BR>
　　　　同期の仕方を変更<BR>
　　　　　　精度は落ちましたが、ＣＰＵ使用率が激減しました。（特にプレビュー時）<BR>
　　　　　　ただし、マシンの性能以上に、多くのポリゴンを描画しているときには、効果はありません。<BR>
　　　　　　６０ＦＰＳ以上で描画しないように、変更しました。<BR>
<BR>
　　　　地面データの読み込み機能追加<BR>
　　　　　　Fileメニューに、地面の読み込みメニューを追加。<BR>
　　　　　　このメニューで読み込むと、大きいポリゴンのオブジェクトも、描画が乱れません。<BR>
　　　　　　ただし、地面には、モーションが付けられません。<BR>
<BR>
　　　　　　ショートカットキー　Ctrl + G で、地面の表示、非表示を切り替えできます。<BR>
<BR>
<BR>
<B>ver1.0.6.9での変更点</B><BR>
<BR>
　　　　マニピュレータの球をドラッグしたときの処理を、選択できるようにしました。<BR>
　　　　　　オプションダイアログで、球をドラッグしたときの処理を、ＩＫかＦＫかどちらかを選べるようにしました。<BR>
　　　　　　アプリケーション終了時に、iniファイルに保存されます。<BR>
<BR>
　　　　マニピュレータの球をドラッグしたときの処理を、右クリックメニューから、選択できるようにしました。<BR>
　　　　　　メインウインドウ上で、ジョイントの丸マークを、右クリックして、メニューから、選択できます。<BR>
<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_ikfk.jpg" width="330" height="311" border="0"><BR>
<BR>
　　　　マニピュレータの球のドラッグ時に、球と円の色の明るさを、変えるようにしました。<BR>
　　　　　　未選択時は、暗い色で、球のドラッグを始めると、ドラッグする球と移動円の色が、明るくなります。<BR>
<BR>
<BR>
<BR>
<B>ver1.0.7.0での変更点</B><BR>
　　　　ＩＫターゲットの実装<BR>
　　　　　　ジョイントに、ターゲット位置を設定すると、操作中に、その位置に近づこうとします。<BR>
　　　　　　ドラッグ操作中と、数値ＩＫ中にしか、動作しません。<BR>
　　　　　　回転操作、移動操作、数値指定ＩＫ時に、有効です。<BR>
<BR>
　　　　　　ＩＫターゲットの実行画面は、以下のようになります。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_iktarget_rot.jpg" width="430" height="409" border="0"><BR>
　　　　　　上の図は、ＩＫターゲットを指定して、回転操作（Ｒモード）したときのものです。<BR>
<BR>
　　　　　　下の図は、ＩＫターゲットを指定して、ツリー移動操作（Ｔ２モード）したときのものです。<BR>
　　　　　　<IMG src="jpegfiles/rdb2_iktarget_mv.jpg" width="656" height="418" border="0"><BR>
　　　　　　このバージョンでは、ジョイントのドラッグ操作の位置を最優先しているため、拘束力は、弱いです。<BR>
<BR>
　　　　　　メインウインドウで、ジョイントの丸マークを、右クリックして、「ＩＫターゲットの設定」を選ぶと、設定ダイアログが出ます。<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_iktargetdlg.jpg" width="414" height="338" border="0"><BR>
　　　　　　　　上の図が、ＩＫターゲット設定ダイアログです。<BR>
　　　　　　　　<BR>
　　　　　　　　「ＩＫ計算の最大階層数」は、ＩＫターゲットを設定したジョイントから、<BR>
　　　　　　　　何個親のジョイントまで、さかのぼって、位置を戻す計算をするかを、指定します。<BR>
<BR>
　　　　　　　　指定した階層数を、さかのぼる途中で、他のＩＫターゲットを設定しているジョイントが見つかった場合や、<BR>
　　　　　　　　ＩＫ伝達禁止フラグを設定しているジョイントが見つかった場合は、<BR>
　　　　　　　　そのジョイントまでしか計算されないようになっています。<BR>
<BR>
　　　　　　　　<B>ＩＫターゲットを使用する場合は、肩や、股などに、ＩＫ伝達禁止フラグを設定しておいた方が、<BR>
　　　　　　　ポーズが乱れにくくなります。</B><BR>
<BR>
　　　　　　　　「ＩＫ計算回数」は、1以外を設定しても、今のバージョン（ver1.0.7.0）では、あまり、効果がありません。<BR>
　　　　　　　<BR>
<BR>
<BR>
　　　　モーションの「フレーム番号が最大値に達した後の振る舞い」に、「指定フレームにジャンプ」を追加<BR>
　　　　　　モーションの繰り返し時に、イントロ部分を飛ばして、再生することが、出来るようになりました。<BR>
<BR>
<BR>
<B>ver1.0.7.1での変更点</B><BR>
<BR>
　　　　ＩＫターゲットの位置に、水色の球を表示するようにしました。<BR>
　　　　　　ジョイントとＩＫターゲットの球は、黄色のボーンマーク（線）で結んで表示します。<BR>
　　　　　　オプションダイアログで、表示非表示が切り替えられます。<BR>
　　　　　　表示非表示は、iniファイルに保存されます。<BR>
<BR>
　　　　　　<IMG src="jpegfiles/rdb2_iktmode.jpg" width="325" height="478" border="0"><BR>
<BR>
<BR>
　　　　ＩＫターゲットの位置を、マウスドラッグで、調整できるようにしました。<BR>
　　　　　　ツールバーの、ＩＫＴボタンを押すと、ＩＫターゲット位置の編集モードになります。<BR>
　　　　　　水色の球を、マウスでドラッグして、位置調整できます。<BR>
　　　　　　マニピュレータも使えます。<BR>
<BR>
　　　　　　！！！ＩＫターゲットの位置を変更しても、そのままでは、ボーンに影響しません。　<BR>
　　　　　　　　関連するボーンに対して、ＩＫ操作を行って、はじめて、ＩＫターゲットの影響が現れます。<BR>
<BR>
<BR>
　　　　ＩＫターゲットを一括で無効にする、ショートカットを追加しました。<BR>
　　　　　　Ctrl + T キーで、全てのＩＫターゲットを無効にします。<BR>
<BR>
<BR>
　　　　数値ＩＫ操作に、ツリー移動を加えました。<BR>
　　　　　　モーションダイアログの、「数値ＩＫ」タブに、「ツリー移動（Ｔ２）」ボタンを追加しました。<BR>
<BR>
<BR>
　　　　キーフレーム作成機能の追加<BR>
　　　　　　モーションダイアログに、「キーフレ作成」ボタンを追加しました。<BR>
<BR>
<BR>
　　　　フレーム番号シフト機能の追加<BR>
　　　　　　モーションダイアログに、「フレーム番号シフト」ボタンを追加しました。<BR>
　　　　　　指定した範囲のキーフレームを、指定フレーム数だけ、移動することが出来ます。<BR>
<BR>
<BR>
　　　　quaファイルの部分書き出し機能の追加<BR>
　　　　　　qua書き出し時に、書き出すフレーム範囲を指定できるようにしました。<BR>
　　　　　　部分的に、別ファイルとして、保存することが出来ます。<BR>
<BR>
<BR>
　　　　quaファイルの追加読み込み機能の追加<BR>
　　　　　　指定フレーム間隔をあけて、既存モーションの後ろに、モーションを読み込むことが出来ます。<BR>
　　　　　　fileメニューの、「モーション（qua）の追加読み込み」メニューを選択すると、機能します。<BR>
<BR>
<BR>
<B>ver1.0.7.2での変更点</B><BR>
<BR>
　　　　マウスホイールで、ボーンのツイスト処理をするようにしました。<BR>
<BR>
　　　　両面表示設定の地面の表示のバグを修正しました。<BR>
<BR>
　　　　マニュアルに、テクスチャ設定時の注意を追加。<BR>
<BR>
<BR>
<B>ver1.0.7.3での変更点</B><BR>
<BR>
　　　　マニピュレータの描画方法を修正<BR>
　　　　　　マニピュレータの大きさが、ギクシャクと、微妙に変化するのを修正。<BR>
　　　　　　マニピュレータの一部が、画面外に出ると、急に大きく表示されるのを修正。<BR>
　　　　　　マニピュレータの角度も、間違っていることがあったのを修正。<BR>
<BR>
<BR>
<B>ver1.0.7.4での変更点</B><BR>
<BR>
　　　　ボーンの移動処理の修正<BR>
　　　　　　Ｔボタンを押しての、移動処理にバグがあり、不安定になったり、誤差が出たりすることがあったのが、直りました。<BR>
　<BR>
　　　　ボーン自体に対する、ボーンの影響度を変更しました。<BR>
　　　　　　移動した際など、ボーンの位置が、直感的な場所と一致するようになりました。<BR>
　　　　　　モーションには、影響ありません。<BR>
<BR>
　　　　RokDeBone2でのテクスチャ投影を修正<BR>
　　　　　　全ての投影で、テクスチャが上下逆だったのを修正<BR>
　　　　　　円筒貼り付け、球貼り付けに、バグがあったのを修正<BR>
　　　　　　メタセコイアで、ＵＶ設定している場合は、今回の修正は、影響がありません。<BR>
<BR>
<BR>
<B>ver1.0.7.5での変更点</B><BR>
<BR>
　　　　　　表示モードに、点表示を追加しました。<BR>
　　　　　　　　ツールバーの絵のボタンを押すと、表示がオンオフされます。<BR>
　　　　　　　　今までは、面、線表示が、排他的だったのですが、組み合わせて、表示できるようにしました。<BR>
<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_point.jpg" width="334" height="267" border="0"><BR>
<BR>
　　　　　　オプションダイアログで、線と、点の色を指定できるようにしました。<BR>
　　　　　　　　iniファイルに保存されます。<BR>
<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_optdlg_col.jpg" width="499" height="191" border="0"><BR>
<BR>
　　　　　　頂点、面、パーツ単位の移動機能を追加。<BR>
　　　　　　　　ツールバーの「位」ボタンで、位置調整モードになります。<BR>
　　　　　　　　モーションを初期化してから調整するモードでは、頂点、面、パーツ、ジョイントの位置調整が出来ます。<BR>
　　　　　　　　モーションを適用したまま、調整するモードでは、頂点のみ、位置調整が出来ます。<BR>
　　　　　　　　ハンドルをマウスでドラッグしての移動、ダイアログに数値入力しての移動、両方出来ます。<BR>
　　　　　　　　ダイアログでの数値入力は、相対値と絶対値が使えます。<BR>
<BR>
　　　　　　　　モーションを適用したままの、頂点位置調整は、関節部分などの微調整に使えます。<BR>
　　　　　　　　　　関節部分が気に入らず、メタセコイアと、行ったり来たりする回数が、減ることと思います。<BR>
<BR>
<BR>
　　　　　　　　<IMG src="jpegfiles/rdb2_itidlg.jpg" width="524" height="485" border="0"><BR>
　　　　　　　　<BR>
<BR>
　　　　　　今までのバージョンの「Ｊ」ボタンの処理は、「位」ボタンでの処理に、統合されました。<BR>
　　　　　　　　「位」ボタンを押した後、オブジェクトの種類に、「ジョイント」を選んでください。<BR>
<BR>
<BR>
　　　　　　モーションダイアログの、指定軸回転の、Ｚ軸とＹ軸のボタンが、逆になっていたのを直しました。<BR>
<BR>
　　　　　　ＩＫ操作しても、モーションダイアログに、モーションポイントの点が表示されなかったのを直しました。<BR>
　　　　　　　　ダイアログで、フレーム番号を操作しないと、点が表示されない、という不具合が直りました。<BR>
<BR>
　　　　　　ＩＫ時のハンドルドラッグ処理で、ハンドルの中心と、3色の球が近くに表示されているときの処理を修正しました。<BR>
　　　　　　　　マウスの座標に近い方を選ぶようにしました。<BR>
<BR>
<BR>
<B>ver1.0.7.6での変更点</B><BR>
<BR>
　　　　プラグイン機能を付けました。<BR>
　　　　RDB2PluginSDKで、作成したプラグインを、RokDeBone2で、実行できます。<BR>
　　　　テキストエクスポーターサンプルを2個、同梱しました。<BR>
<BR>
<BR>
<B>ver1.0.7.7での変更点</B><BR>
<BR>
　　　　プラグインから呼び出せる関数を追加しました。<BR>
　　　　　　ＵＶ情報の取得関数<BR>
　　　　　　法線情報の取得関数<BR>
<BR>
<BR>
<B>ver1.0.7.8での変更点</B><BR>
<BR>
　　　　プラグインから呼び出せる関数の修正<BR>
　　　　　　RDBGetBoneQuaternion で取得できるクォータニオンが、DirectX標準の系とは違う系で、出力されていたのを修正。<BR>
　　　　　　DirectX標準の左手系に直しました。<BR>
<BR>
　　　　　　（RDBGetKeyFrameSRT で取得出来るクォータニオンは、昔のバージョンも、DirectX標準の系になっています。）<BR>
<BR>
<BR>
</P>
<P><BR>
</P>
<P><A href="rokdebone.htm">RokDeBone2のトップページに戻る</A><BR>
<BR>
<A href="index.htm">トップページに戻る</A><BR>
<BR>
<BR>
</P>
</BODY>
</HTML>